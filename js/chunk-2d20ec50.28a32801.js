(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20ec50"],{b17b:function(e,n,c){"use strict";c.r(n);var o=function(){var e=this,n=e.$createElement;e._self._c;return e._m(0)},v=[function(){var e=this,n=e.$createElement,c=e._self._c||n;return c("div",{staticClass:"vue-demo-container"},[c("h2",[e._v("1. 环境配置区分")]),c("p",[e._v("在项目中我们一般分为 "),c("code",[e._v("本地环境")]),e._v(" 、 "),c("code",[e._v("测试环境")]),e._v(" 、 "),c("code",[e._v("qa环境")]),e._v(" 以及 "),c("code",[e._v("正式环境")]),e._v(" ，所以需要配置不同打包环境以及增加不同的环境变量。")]),c("h3",[e._v("1.1 第一步，增加打包指令")]),c("p",[c("code",[e._v("package.json")])]),c("pre",[c("code",{staticClass:"language-json"},[e._v('{\n    "scripts": {\n        "build:development": "vue-cli-service build  --mode development",\n        "build:test": "vue-cli-service build  --mode test",\n        "build:qa": "vue-cli-service build  --mode qa",\n        "build:production": "vue-cli-service build  --mode production",\n    }\n}\n')])]),c("h3",[e._v("1.2 第二步，增加环境配置文件")]),c("blockquote",[c("p",[e._v("当是测试环境、qa环境和正式环境时，我们都将 "),c("code",[e._v("NODE_ENV")]),e._v(" 设置为 "),c("code",[e._v("production")]),e._v(" ，这样将会使用生产环境的方式进行打包（会进行分包和代码压缩），而区分真正环境的时候使用我们自定义的 "),c("code",[e._v("APP_NODE_ENV")]),e._v(" ，这样就可以既使用生产环境的方式进行打包，又可以区分不同的环境。")])]),c("p",[c("code",[e._v(".env.development")])]),c("pre",[c("code",{staticClass:"language-shell"},[e._v("# 覆写vue-cli环境为开发打包环境\nNODE_ENV=development\n\nAPP_NODE_ENV=development\n")])]),c("p",[c("code",[e._v(".env.test")])]),c("pre",[c("code",{staticClass:"language-shell"},[e._v("# 覆写vue-cli环境为生产打包环境\nNODE_ENV=production\n\nAPP_NODE_ENV=test\n")])]),c("p",[c("code",[e._v(".env.qa")])]),c("pre",[c("code",{staticClass:"language-shell"},[e._v("# 覆写vue-cli环境为生产打包环境\nNODE_ENV=production\n\nAPP_NODE_ENV=qa\n")])]),c("p",[c("code",[e._v(".env.production")])]),c("pre",[c("code",{staticClass:"language-shell"},[e._v("# 覆写vue-cli环境为生产打包环境\nNODE_ENV=production\n\nAPP_NODE_ENV=production\n")])]),c("h3",[e._v("1.3 使用")]),c("p",[e._v("当运行起来或者打包的时候，我们可以通过 "),c("code",[e._v("process.env.APP_NODE_ENV")]),e._v(" 来获取当前的环境变量。")]),c("pre",[c("code",{staticClass:"language-js"},[e._v("if (process.env.APP_NODE_ENV === 'development') {\n    // 开发环境\n} else if (process.env.APP_NODE_ENV === 'test') {\n    // 测试环境\n} else if (process.env.APP_NODE_ENV === 'qa') {\n    // qa环境\n} else if (process.env.APP_NODE_ENV === 'production') {\n    // 生产环境\n}\n")])])])}],_={name:"ComponentDoc",components:{}},s=_,t=c("2877"),l=Object(t["a"])(s,o,v,!1,null,null,null);n["default"]=l.exports}}]);