(window.webpackJsonp=window.webpackJsonp||[]).push([[74,97,110],{214:function(t,e,n){"use strict";n.r(e),n.d(e,"on",(function(){return l})),n.d(e,"off",(function(){return a})),n.d(e,"once",(function(){return u})),n.d(e,"hasClass",(function(){return f})),n.d(e,"addClass",(function(){return d})),n.d(e,"removeClass",(function(){return h})),n.d(e,"getStyle",(function(){return m})),n.d(e,"setStyle",(function(){return p})),n.d(e,"isScroll",(function(){return b})),n.d(e,"getScrollContainer",(function(){return v})),n.d(e,"isInContainer",(function(){return w}));n(94);const r=n(0).default.prototype.$isServer,o=/([\:\-\_]+(.))/g,i=/^moz([A-Z])/,s=r?0:Number(document.documentMode),c=function(t){return t.replace(o,(function(t,e,n,r){return r?n.toUpperCase():n})).replace(i,"Moz$1")},l=!r&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)},a=!r&&document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)},u=function(t,e,n){var r=function(){n&&n.apply(this,arguments),a(t,e,r)};l(t,e,r)};function f(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}function d(t,e){if(t){for(var n=t.className,r=(e||"").split(" "),o=0,i=r.length;o<i;o++){var s=r[o];s&&(t.classList?t.classList.add(s):f(t,s)||(n+=" "+s))}t.classList||(t.className=n)}}function h(t,e){if(t&&e){for(var n=e.split(" "),r=" "+t.className+" ",o=0,i=n.length;o<i;o++){var s=n[o];s&&(t.classList?t.classList.remove(s):f(t,s)&&(r=r.replace(" "+s+" "," ")))}t.classList||(t.className=(r||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))}}const m=s<9?function(t,e){if(!r){if(!t||!e)return null;"float"===(e=c(e))&&(e="styleFloat");try{switch(e){case"opacity":try{return t.filters.item("alpha").opacity/100}catch(t){return 1}default:return t.style[e]||t.currentStyle?t.currentStyle[e]:null}}catch(n){return t.style[e]}}}:function(t,e){if(!r){if(!t||!e)return null;"float"===(e=c(e))&&(e="cssFloat");try{var n=document.defaultView.getComputedStyle(t,"");return t.style[e]||n?n[e]:null}catch(n){return t.style[e]}}};function p(t,e,n){if(t&&e)if("object"==typeof e)for(var r in e)e.hasOwnProperty(r)&&p(t,r,e[r]);else"opacity"===(e=c(e))&&s<9?t.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":t.style[e]=n}const b=(t,e)=>{if(r)return;return m(t,null!==e||void 0!==e?e?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto)/)},v=(t,e)=>{if(r)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(b(n,e))return n;n=n.parentNode}return n},w=(t,e)=>{if(r||!t||!e)return!1;const n=t.getBoundingClientRect();let o;return o=[window,document,document.documentElement,null,void 0].includes(e)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:e.getBoundingClientRect(),n.top<o.bottom&&n.bottom>o.top&&n.right>o.left&&n.left<o.right}},215:function(t,e,n){"use strict";n.r(e),n.d(e,"BAR_MAP",(function(){return r})),n.d(e,"renderThumbStyle",(function(){return o}));const r={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function o({move:t,size:e,bar:n}){const r={},o=`translate${n.axis}(${t}%)`;return r[n.size]=e,r.transform=o,r.msTransform=o,r.webkitTransform=o,r}},226:function(t,e,n){"use strict";n.r(e);var r=n(214),o=n(215);e.default={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar(){return o.BAR_MAP[this.vertical?"vertical":"horizontal"]},wrap(){return this.$parent.wrap}},render(t){const{size:e,move:n,bar:r}=this;return t("div",{class:["el-scrollbar__bar","is-"+r.key],on:{mousedown:this.clickTrackHandler}},[t("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:Object(o.renderThumbStyle)({size:e,move:n,bar:r})})])},methods:{clickThumbHandler(t){t.ctrlKey||2===t.button||(this.startDrag(t),this[this.bar.axis]=t.currentTarget[this.bar.offset]-(t[this.bar.client]-t.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler(t){const e=100*(Math.abs(t.target.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-this.$refs.thumb[this.bar.offset]/2)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=e*this.wrap[this.bar.scrollSize]/100},startDrag(t){t.stopImmediatePropagation(),this.cursorDown=!0,Object(r.on)(document,"mousemove",this.mouseMoveDocumentHandler),Object(r.on)(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=()=>!1},mouseMoveDocumentHandler(t){if(!1===this.cursorDown)return;const e=this[this.bar.axis];if(!e)return;const n=100*(-1*(this.$el.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-(this.$refs.thumb[this.bar.offset]-e))/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=n*this.wrap[this.bar.scrollSize]/100},mouseUpDocumentHandler(t){this.cursorDown=!1,this[this.bar.axis]=0,Object(r.off)(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed(){Object(r.off)(document,"mouseup",this.mouseUpDocumentHandler)}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvZG9tLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Njcm9sbGJhcjIvc3JjL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc2Nyb2xsYmFyMi9zcmMvYmFyLmpzIl0sIm5hbWVzIjpbImlzU2VydmVyIiwiVnVlIiwicHJvdG90eXBlIiwiJGlzU2VydmVyIiwiU1BFQ0lBTF9DSEFSU19SRUdFWFAiLCJNT1pfSEFDS19SRUdFWFAiLCJpZVZlcnNpb24iLCJOdW1iZXIiLCJkb2N1bWVudCIsImRvY3VtZW50TW9kZSIsImNhbWVsQ2FzZSIsIm5hbWUiLCJyZXBsYWNlIiwiXyIsInNlcGFyYXRvciIsImxldHRlciIsIm9mZnNldCIsInRvVXBwZXJDYXNlIiwib24iLCJhZGRFdmVudExpc3RlbmVyIiwiZWxlbWVudCIsImV2ZW50IiwiaGFuZGxlciIsImF0dGFjaEV2ZW50Iiwib2ZmIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50Iiwib25jZSIsImVsIiwiZm4iLCJsaXN0ZW5lciIsImFwcGx5IiwidGhpcyIsImFyZ3VtZW50cyIsImhhc0NsYXNzIiwiY2xzIiwiaW5kZXhPZiIsIkVycm9yIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJjbGFzc05hbWUiLCJhZGRDbGFzcyIsImN1ckNsYXNzIiwiY2xhc3NlcyIsInNwbGl0IiwiaSIsImoiLCJsZW5ndGgiLCJjbHNOYW1lIiwiYWRkIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmUiLCJnZXRTdHlsZSIsInN0eWxlTmFtZSIsImZpbHRlcnMiLCJpdGVtIiwib3BhY2l0eSIsImUiLCJzdHlsZSIsImN1cnJlbnRTdHlsZSIsImNvbXB1dGVkIiwiZGVmYXVsdFZpZXciLCJnZXRDb21wdXRlZFN0eWxlIiwic2V0U3R5bGUiLCJ2YWx1ZSIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsImZpbHRlciIsImlzTmFOIiwiaXNTY3JvbGwiLCJ2ZXJ0aWNhbCIsInVuZGVmaW5lZCIsIm1hdGNoIiwiZ2V0U2Nyb2xsQ29udGFpbmVyIiwicGFyZW50Iiwid2luZG93IiwiZG9jdW1lbnRFbGVtZW50IiwiaW5jbHVkZXMiLCJwYXJlbnROb2RlIiwiaXNJbkNvbnRhaW5lciIsImNvbnRhaW5lciIsImVsUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNvbnRhaW5lclJlY3QiLCJ0b3AiLCJyaWdodCIsImlubmVyV2lkdGgiLCJib3R0b20iLCJpbm5lckhlaWdodCIsImxlZnQiLCJCQVJfTUFQIiwic2Nyb2xsIiwic2Nyb2xsU2l6ZSIsInNpemUiLCJrZXkiLCJheGlzIiwiY2xpZW50IiwiZGlyZWN0aW9uIiwiaG9yaXpvbnRhbCIsInJlbmRlclRodW1iU3R5bGUiLCJtb3ZlIiwiYmFyIiwidHJhbnNsYXRlIiwidHJhbnNmb3JtIiwibXNUcmFuc2Zvcm0iLCJ3ZWJraXRUcmFuc2Zvcm0iLCJwcm9wcyIsIkJvb2xlYW4iLCJTdHJpbmciLCJ3cmFwIiwiJHBhcmVudCIsInJlbmRlciIsImgiLCJjbGlja1RyYWNrSGFuZGxlciIsImNsaWNrVGh1bWJIYW5kbGVyIiwibWV0aG9kcyIsImN0cmxLZXkiLCJidXR0b24iLCJzdGFydERyYWciLCJjdXJyZW50VGFyZ2V0IiwidGh1bWJQb3NpdGlvblBlcmNlbnRhZ2UiLCJNYXRoIiwiYWJzIiwidGFyZ2V0IiwiJHJlZnMiLCJ0aHVtYiIsIiRlbCIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImN1cnNvckRvd24iLCJtb3VzZU1vdmVEb2N1bWVudEhhbmRsZXIiLCJtb3VzZVVwRG9jdW1lbnRIYW5kbGVyIiwib25zZWxlY3RzdGFydCIsInByZXZQYWdlIiwiZGVzdHJveWVkIl0sIm1hcHBpbmdzIjoicWpCQUlBLE1BQU1BLEUsS0FBV0MsUUFBSUMsVUFBVUMsVUFDekJDLEVBQXVCLGtCQUN2QkMsRUFBa0IsY0FDbEJDLEVBQVlOLEVBQVcsRUFBSU8sT0FBT0MsU0FBU0MsY0FPM0NDLEVBQVksU0FBVUMsR0FDeEIsT0FBT0EsRUFBS0MsUUFBUVIsR0FBc0IsU0FBVVMsRUFBR0MsRUFBV0MsRUFBUUMsR0FDdEUsT0FBT0EsRUFBU0QsRUFBT0UsY0FBZ0JGLEtBQ3hDSCxRQUFRUCxFQUFpQixVQUluQmEsR0FDSmxCLEdBQVlRLFNBQVNXLGlCQUNmLFNBQVVDLEVBQVNDLEVBQU9DLEdBQ3pCRixHQUFXQyxHQUFTQyxHQUNwQkYsRUFBUUQsaUJBQWlCRSxFQUFPQyxHQUFTLElBSTFDLFNBQVVGLEVBQVNDLEVBQU9DLEdBQ3pCRixHQUFXQyxHQUFTQyxHQUNwQkYsRUFBUUcsWUFBWSxLQUFPRixFQUFPQyxJQU9yQ0UsR0FDSnhCLEdBQVlRLFNBQVNpQixvQkFDZixTQUFVTCxFQUFTQyxFQUFPQyxHQUN6QkYsR0FBV0MsR0FDWEQsRUFBUUssb0JBQW9CSixFQUFPQyxHQUFTLElBSTdDLFNBQVVGLEVBQVNDLEVBQU9DLEdBQ3pCRixHQUFXQyxHQUNYRCxFQUFRTSxZQUFZLEtBQU9MLEVBQU9DLElBT3JDSyxFQUFPLFNBQVVDLEVBQUlQLEVBQU9RLEdBQ3JDLElBQUlDLEVBQVcsV0FDUEQsR0FDQUEsRUFBR0UsTUFBTUMsS0FBTUMsV0FFbkJULEVBQUlJLEVBQUlQLEVBQU9TLElBRW5CWixFQUFHVSxFQUFJUCxFQUFPUyxJQUlYLFNBQVNJLEVBQVNOLEVBQUlPLEdBQ3pCLElBQUtQLElBQU9PLEVBQUssT0FBTyxFQUN4QixJQUEwQixJQUF0QkEsRUFBSUMsUUFBUSxLQUFhLE1BQU0sSUFBSUMsTUFBTSx1Q0FDN0MsT0FBSVQsRUFBR1UsVUFDSVYsRUFBR1UsVUFBVUMsU0FBU0osSUFFckIsSUFBTVAsRUFBR1ksVUFBWSxLQUFLSixRQUFRLElBQU1ELEVBQU0sTUFBUSxFQUsvRCxTQUFTTSxFQUFTYixFQUFJTyxHQUN6QixHQUFLUCxFQUFMLENBSUEsSUFIQSxJQUFJYyxFQUFXZCxFQUFHWSxVQUNkRyxHQUFXUixHQUFPLElBQUlTLE1BQU0sS0FFdkJDLEVBQUksRUFBR0MsRUFBSUgsRUFBUUksT0FBUUYsRUFBSUMsRUFBR0QsSUFBSyxDQUM1QyxJQUFJRyxFQUFVTCxFQUFRRSxHQUNqQkcsSUFFRHBCLEVBQUdVLFVBQ0hWLEVBQUdVLFVBQVVXLElBQUlELEdBQ1RkLEVBQVNOLEVBQUlvQixLQUNyQk4sR0FBWSxJQUFNTSxJQUdyQnBCLEVBQUdVLFlBQ0pWLEVBQUdZLFVBQVlFLElBS2hCLFNBQVNRLEVBQVl0QixFQUFJTyxHQUM1QixHQUFLUCxHQUFPTyxFQUFaLENBSUEsSUFIQSxJQUFJUSxFQUFVUixFQUFJUyxNQUFNLEtBQ3BCRixFQUFXLElBQU1kLEVBQUdZLFVBQVksSUFFM0JLLEVBQUksRUFBR0MsRUFBSUgsRUFBUUksT0FBUUYsRUFBSUMsRUFBR0QsSUFBSyxDQUM1QyxJQUFJRyxFQUFVTCxFQUFRRSxHQUNqQkcsSUFFRHBCLEVBQUdVLFVBQ0hWLEVBQUdVLFVBQVVhLE9BQU9ILEdBQ2JkLEVBQVNOLEVBQUlvQixLQUNwQk4sRUFBV0EsRUFBUzlCLFFBQVEsSUFBTW9DLEVBQVUsSUFBSyxPQUdwRHBCLEVBQUdVLFlBQ0pWLEVBQUdZLFdBQWlCRSxHQXZHTixJQUFJOUIsUUFBUSw2QkFBOEIsTUE0R3pELE1BQU13QyxFQUFXOUMsRUFBWSxFQUFJLFNBQVVjLEVBQVNpQyxHQUN2RCxJQUFJckQsRUFBSixDQUNBLElBQUtvQixJQUFZaUMsRUFBVyxPQUFPLEtBRWpCLFdBRGxCQSxFQUFZM0MsRUFBVTJDLE1BRWxCQSxFQUFZLGNBRWhCLElBQ0ksT0FBUUEsR0FDSixJQUFLLFVBQ0QsSUFDSSxPQUFPakMsRUFBUWtDLFFBQVFDLEtBQUssU0FBU0MsUUFBVSxJQUNqRCxNQUFPQyxHQUNMLE9BQU8sRUFFZixRQUNJLE9BQVFyQyxFQUFRc0MsTUFBTUwsSUFBY2pDLEVBQVF1QyxhQUFldkMsRUFBUXVDLGFBQWFOLEdBQWEsTUFFdkcsTUFBT0ksR0FDTCxPQUFPckMsRUFBUXNDLE1BQU1MLE1BRXpCLFNBQVVqQyxFQUFTaUMsR0FDbkIsSUFBSXJELEVBQUosQ0FDQSxJQUFLb0IsSUFBWWlDLEVBQVcsT0FBTyxLQUVqQixXQURsQkEsRUFBWTNDLEVBQVUyQyxNQUVsQkEsRUFBWSxZQUVoQixJQUNJLElBQUlPLEVBQVdwRCxTQUFTcUQsWUFBWUMsaUJBQWlCMUMsRUFBUyxJQUM5RCxPQUFPQSxFQUFRc0MsTUFBTUwsSUFBY08sRUFBV0EsRUFBU1AsR0FBYSxLQUN0RSxNQUFPSSxHQUNMLE9BQU9yQyxFQUFRc0MsTUFBTUwsTUFLdEIsU0FBU1UsRUFBUzNDLEVBQVNpQyxFQUFXVyxHQUN6QyxHQUFLNUMsR0FBWWlDLEVBRWpCLEdBQXlCLGlCQUFkQSxFQUNQLElBQUssSUFBSVksS0FBUVosRUFDVEEsRUFBVWEsZUFBZUQsSUFDekJGLEVBQVMzQyxFQUFTNkMsRUFBTVosRUFBVVksUUFLeEIsYUFEbEJaLEVBQVkzQyxFQUFVMkMsS0FDUy9DLEVBQVksRUFDdkNjLEVBQVFzQyxNQUFNUyxPQUFTQyxNQUFNSixHQUFTLEdBQUssaUJBQTJCLElBQVJBLEVBQWMsSUFFNUU1QyxFQUFRc0MsTUFBTUwsR0FBYVcsRUFLaEMsTUFBTUssRUFBV0EsQ0FBQ3pDLEVBQUkwQyxLQUN6QixHQUFJdEUsRUFBVSxPQVNkLE9BSlVvRCxFQUFTeEIsRUFIc0IsT0FBYjBDLFFBQWtDQyxJQUFiRCxFQUUzQ0EsRUFDaUIsYUFDQSxhQUNKLFlBRUhFLE1BQU0sa0JBR2JDLEVBQXFCQSxDQUFDN0MsRUFBSTBDLEtBQ25DLEdBQUl0RSxFQUFVLE9BRWQsSUFBSTBFLEVBQVM5QyxFQUNiLEtBQU84QyxHQUFRLENBQ1gsR0FBSSxDQUFDQyxPQUFRbkUsU0FBVUEsU0FBU29FLGlCQUFpQkMsU0FBU0gsR0FDdEQsT0FBT0MsT0FFWCxHQUFJTixFQUFTSyxFQUFRSixHQUNqQixPQUFPSSxFQUVYQSxFQUFTQSxFQUFPSSxXQUdwQixPQUFPSixHQUdFSyxFQUFnQkEsQ0FBQ25ELEVBQUlvRCxLQUM5QixHQUFJaEYsSUFBYTRCLElBQU9vRCxFQUFXLE9BQU8sRUFFMUMsTUFBTUMsRUFBU3JELEVBQUdzRCx3QkFDbEIsSUFBSUMsRUFhSixPQVZJQSxFQURBLENBQUNSLE9BQVFuRSxTQUFVQSxTQUFTb0UsZ0JBQWlCLFVBQU1MLEdBQVdNLFNBQVNHLEdBQ3ZELENBQ1pJLElBQUssRUFDTEMsTUFBT1YsT0FBT1csV0FDZEMsT0FBUVosT0FBT2EsWUFDZkMsS0FBTSxHQUdNVCxFQUFVRSx3QkFHdkJELEVBQU9HLElBQU1ELEVBQWNJLFFBQzlCTixFQUFPTSxPQUFTSixFQUFjQyxLQUM5QkgsRUFBT0ksTUFBUUYsRUFBY00sTUFDN0JSLEVBQU9RLEtBQU9OLEVBQWNFLFEsaUNDak9wQyxnR0FBTyxNQUFNSyxFQUFVLENBQ3JCcEIsU0FBVSxDQUNSdEQsT0FBUSxlQUNSMkUsT0FBUSxZQUNSQyxXQUFZLGVBQ1pDLEtBQU0sU0FDTkMsSUFBSyxXQUNMQyxLQUFNLElBQ05DLE9BQVEsVUFDUkMsVUFBVyxPQUViQyxXQUFZLENBQ1ZsRixPQUFRLGNBQ1IyRSxPQUFRLGFBQ1JDLFdBQVksY0FDWkMsS0FBTSxRQUNOQyxJQUFLLGFBQ0xDLEtBQU0sSUFDTkMsT0FBUSxVQUNSQyxVQUFXLFNBSVIsU0FBU0UsR0FBaUIsS0FBRUMsRUFBSSxLQUFFUCxFQUFJLElBQUVRLElBQzdDLE1BQU0zQyxFQUFRLEdBQ1I0QyxFQUFhLFlBQVdELEVBQUlOLFFBQVNLLE1BTzNDLE9BTEExQyxFQUFNMkMsRUFBSVIsTUFBUUEsRUFDbEJuQyxFQUFNNkMsVUFBWUQsRUFDbEI1QyxFQUFNOEMsWUFBY0YsRUFDcEI1QyxFQUFNK0MsZ0JBQWtCSCxFQUVqQjVDLEksaUNDaENULDZCQUllLFdBQ2IvQyxLQUFNLE1BRU4rRixNQUFPLENBQ0xwQyxTQUFVcUMsUUFDVmQsS0FBTWUsT0FDTlIsS0FBTTdGLFFBR1JxRCxTQUFVLENBQ1J5QyxNQUNFLE9BQU9YLFVBQVExRCxLQUFLc0MsU0FBVyxXQUFhLGVBRzlDdUMsT0FDRSxPQUFPN0UsS0FBSzhFLFFBQVFELE9BSXhCRSxPQUFPQyxHQUNMLE1BQU0sS0FBRW5CLEVBQUksS0FBRU8sRUFBSSxJQUFFQyxHQUFRckUsS0FFNUIsT0FBQWdGLEVBQUEsYUFFVyxDQUFDLG9CQUFxQixNQUFRWCxFQUFJUCxLQUFJLGNBQ2hDOUQsS0FBS2lGLG9CQUFpQixDQUFBRCxFQUFBLFdBRTdCLFFBQU8sTUFDTCxzQkFBcUIsY0FDZGhGLEtBQUtrRixtQkFBaUIsTUFDNUJmLDJCQUFpQixDQUFFTixPQUFNTyxPQUFNQyxhQU05Q2MsUUFBUyxDQUNQRCxrQkFBa0J6RCxHQUVaQSxFQUFFMkQsU0FBd0IsSUFBYjNELEVBQUU0RCxTQUduQnJGLEtBQUtzRixVQUFVN0QsR0FDZnpCLEtBQUtBLEtBQUtxRSxJQUFJTixNQUFTdEMsRUFBRThELGNBQWN2RixLQUFLcUUsSUFBSXJGLFNBQVd5QyxFQUFFekIsS0FBS3FFLElBQUlMLFFBQVV2QyxFQUFFOEQsY0FBY3JDLHdCQUF3QmxELEtBQUtxRSxJQUFJSixjQUduSWdCLGtCQUFrQnhELEdBQ2hCLE1BRU0rRCxFQUFrRCxLQUZ6Q0MsS0FBS0MsSUFBSWpFLEVBQUVrRSxPQUFPekMsd0JBQXdCbEQsS0FBS3FFLElBQUlKLFdBQWF4QyxFQUFFekIsS0FBS3FFLElBQUlMLFNBQ3ZFaEUsS0FBSzRGLE1BQU1DLE1BQU03RixLQUFLcUUsSUFBSXJGLFFBQVUsR0FDT2dCLEtBQUs4RixJQUFJOUYsS0FBS3FFLElBQUlyRixRQUVoRmdCLEtBQUs2RSxLQUFLN0UsS0FBS3FFLElBQUlWLFFBQVc2QixFQUEwQnhGLEtBQUs2RSxLQUFLN0UsS0FBS3FFLElBQUlULFlBQWMsS0FHM0YwQixVQUFVN0QsR0FDUkEsRUFBRXNFLDJCQUNGL0YsS0FBS2dHLFlBQWEsRUFFbEI5RyxhQUFHVixTQUFVLFlBQWF3QixLQUFLaUcsMEJBQy9CL0csYUFBR1YsU0FBVSxVQUFXd0IsS0FBS2tHLHdCQUM3QjFILFNBQVMySCxjQUFnQixLQUFNLEdBR2pDRix5QkFBeUJ4RSxHQUN2QixJQUF3QixJQUFwQnpCLEtBQUtnRyxXQUFzQixPQUMvQixNQUFNSSxFQUFXcEcsS0FBS0EsS0FBS3FFLElBQUlOLE1BRS9CLElBQUtxQyxFQUFVLE9BRWYsTUFFTVosRUFBMkQsTUFGOEIsR0FBOUV4RixLQUFLOEYsSUFBSTVDLHdCQUF3QmxELEtBQUtxRSxJQUFJSixXQUFheEMsRUFBRXpCLEtBQUtxRSxJQUFJTCxVQUN2RGhFLEtBQUs0RixNQUFNQyxNQUFNN0YsS0FBS3FFLElBQUlyRixRQUFVb0gsSUFDT3BHLEtBQUs4RixJQUFJOUYsS0FBS3FFLElBQUlyRixRQUV6RmdCLEtBQUs2RSxLQUFLN0UsS0FBS3FFLElBQUlWLFFBQVc2QixFQUEwQnhGLEtBQUs2RSxLQUFLN0UsS0FBS3FFLElBQUlULFlBQWMsS0FHM0ZzQyx1QkFBdUJ6RSxHQUNyQnpCLEtBQUtnRyxZQUFhLEVBQ2xCaEcsS0FBS0EsS0FBS3FFLElBQUlOLE1BQVEsRUFDdEJ2RSxjQUFJaEIsU0FBVSxZQUFhd0IsS0FBS2lHLDBCQUNoQ3pILFNBQVMySCxjQUFnQixPQUk3QkUsWUFDRTdHLGNBQUloQixTQUFVLFVBQVd3QixLQUFLa0ciLCJmaWxlIjoianMvNzQuMzI5YzVhODQ1ZDAzNWFjZjRmYmIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXG5pbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcblxuY29uc3QgaXNTZXJ2ZXIgPSBWdWUucHJvdG90eXBlLiRpc1NlcnZlclxuY29uc3QgU1BFQ0lBTF9DSEFSU19SRUdFWFAgPSAvKFtcXDpcXC1cXF9dKyguKSkvZ1xuY29uc3QgTU9aX0hBQ0tfUkVHRVhQID0gL15tb3ooW0EtWl0pL1xuY29uc3QgaWVWZXJzaW9uID0gaXNTZXJ2ZXIgPyAwIDogTnVtYmVyKGRvY3VtZW50LmRvY3VtZW50TW9kZSlcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmNvbnN0IHRyaW0gPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgcmV0dXJuIChzdHJpbmcgfHwgJycpLnJlcGxhY2UoL15bXFxzXFx1RkVGRl0rfFtcXHNcXHVGRUZGXSskL2csICcnKVxufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmNvbnN0IGNhbWVsQ2FzZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWUucmVwbGFjZShTUEVDSUFMX0NIQVJTX1JFR0VYUCwgZnVuY3Rpb24gKF8sIHNlcGFyYXRvciwgbGV0dGVyLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG9mZnNldCA/IGxldHRlci50b1VwcGVyQ2FzZSgpIDogbGV0dGVyXG4gICAgfSkucmVwbGFjZShNT1pfSEFDS19SRUdFWFAsICdNb3okMScpXG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3Qgb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICghaXNTZXJ2ZXIgJiYgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCAmJiBldmVudCAmJiBoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBmYWxzZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ICYmIGV2ZW50ICYmIGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgaGFuZGxlcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pKClcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBvZmYgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICghaXNTZXJ2ZXIgJiYgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCAmJiBldmVudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgZmFsc2UpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCAmJiBldmVudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBoYW5kbGVyKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSkoKVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IG9uY2UgPSBmdW5jdGlvbiAoZWwsIGV2ZW50LCBmbikge1xuICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICAgICAgb2ZmKGVsLCBldmVudCwgbGlzdGVuZXIpXG4gICAgfVxuICAgIG9uKGVsLCBldmVudCwgbGlzdGVuZXIpXG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNscykge1xuICAgIGlmICghZWwgfHwgIWNscykgcmV0dXJuIGZhbHNlXG4gICAgaWYgKGNscy5pbmRleE9mKCcgJykgIT09IC0xKSB0aHJvdyBuZXcgRXJyb3IoJ2NsYXNzTmFtZSBzaG91bGQgbm90IGNvbnRhaW4gc3BhY2UuJylcbiAgICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgICAgIHJldHVybiBlbC5jbGFzc0xpc3QuY29udGFpbnMoY2xzKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoJyAnICsgZWwuY2xhc3NOYW1lICsgJyAnKS5pbmRleE9mKCcgJyArIGNscyArICcgJykgPiAtMVxuICAgIH1cbn07XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNscykge1xuICAgIGlmICghZWwpIHJldHVyblxuICAgIHZhciBjdXJDbGFzcyA9IGVsLmNsYXNzTmFtZVxuICAgIHZhciBjbGFzc2VzID0gKGNscyB8fCAnJykuc3BsaXQoJyAnKVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSBjbGFzc2VzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICB2YXIgY2xzTmFtZSA9IGNsYXNzZXNbaV1cbiAgICAgICAgaWYgKCFjbHNOYW1lKSBjb250aW51ZVxuXG4gICAgICAgIGlmIChlbC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xzTmFtZSlcbiAgICAgICAgfSBlbHNlIGlmICghaGFzQ2xhc3MoZWwsIGNsc05hbWUpKSB7XG4gICAgICAgICAgICBjdXJDbGFzcyArPSAnICcgKyBjbHNOYW1lXG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFlbC5jbGFzc0xpc3QpIHtcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gY3VyQ2xhc3NcbiAgICB9XG59O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsLCBjbHMpIHtcbiAgICBpZiAoIWVsIHx8ICFjbHMpIHJldHVyblxuICAgIHZhciBjbGFzc2VzID0gY2xzLnNwbGl0KCcgJylcbiAgICB2YXIgY3VyQ2xhc3MgPSAnICcgKyBlbC5jbGFzc05hbWUgKyAnICdcblxuICAgIGZvciAodmFyIGkgPSAwLCBqID0gY2xhc3Nlcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgdmFyIGNsc05hbWUgPSBjbGFzc2VzW2ldXG4gICAgICAgIGlmICghY2xzTmFtZSkgY29udGludWVcblxuICAgICAgICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsc05hbWUpXG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsIGNsc05hbWUpKSB7XG4gICAgICAgICAgICBjdXJDbGFzcyA9IGN1ckNsYXNzLnJlcGxhY2UoJyAnICsgY2xzTmFtZSArICcgJywgJyAnKVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghZWwuY2xhc3NMaXN0KSB7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IHRyaW0oY3VyQ2xhc3MpXG4gICAgfVxufTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBnZXRTdHlsZSA9IGllVmVyc2lvbiA8IDkgPyBmdW5jdGlvbiAoZWxlbWVudCwgc3R5bGVOYW1lKSB7XG4gICAgaWYgKGlzU2VydmVyKSByZXR1cm5cbiAgICBpZiAoIWVsZW1lbnQgfHwgIXN0eWxlTmFtZSkgcmV0dXJuIG51bGxcbiAgICBzdHlsZU5hbWUgPSBjYW1lbENhc2Uoc3R5bGVOYW1lKVxuICAgIGlmIChzdHlsZU5hbWUgPT09ICdmbG9hdCcpIHtcbiAgICAgICAgc3R5bGVOYW1lID0gJ3N0eWxlRmxvYXQnXG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHN3aXRjaCAoc3R5bGVOYW1lKSB7XG4gICAgICAgICAgICBjYXNlICdvcGFjaXR5JzpcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5maWx0ZXJzLml0ZW0oJ2FscGhhJykub3BhY2l0eSAvIDEwMFxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEuMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChlbGVtZW50LnN0eWxlW3N0eWxlTmFtZV0gfHwgZWxlbWVudC5jdXJyZW50U3R5bGUgPyBlbGVtZW50LmN1cnJlbnRTdHlsZVtzdHlsZU5hbWVdIDogbnVsbClcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuc3R5bGVbc3R5bGVOYW1lXVxuICAgIH1cbn0gOiBmdW5jdGlvbiAoZWxlbWVudCwgc3R5bGVOYW1lKSB7XG4gICAgaWYgKGlzU2VydmVyKSByZXR1cm5cbiAgICBpZiAoIWVsZW1lbnQgfHwgIXN0eWxlTmFtZSkgcmV0dXJuIG51bGxcbiAgICBzdHlsZU5hbWUgPSBjYW1lbENhc2Uoc3R5bGVOYW1lKVxuICAgIGlmIChzdHlsZU5hbWUgPT09ICdmbG9hdCcpIHtcbiAgICAgICAgc3R5bGVOYW1lID0gJ2Nzc0Zsb2F0J1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICB2YXIgY29tcHV0ZWQgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsICcnKVxuICAgICAgICByZXR1cm4gZWxlbWVudC5zdHlsZVtzdHlsZU5hbWVdIHx8IGNvbXB1dGVkID8gY29tcHV0ZWRbc3R5bGVOYW1lXSA6IG51bGxcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LnN0eWxlW3N0eWxlTmFtZV1cbiAgICB9XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3R5bGUoZWxlbWVudCwgc3R5bGVOYW1lLCB2YWx1ZSkge1xuICAgIGlmICghZWxlbWVudCB8fCAhc3R5bGVOYW1lKSByZXR1cm5cblxuICAgIGlmICh0eXBlb2Ygc3R5bGVOYW1lID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIHN0eWxlTmFtZSkge1xuICAgICAgICAgICAgaWYgKHN0eWxlTmFtZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgIHNldFN0eWxlKGVsZW1lbnQsIHByb3AsIHN0eWxlTmFtZVtwcm9wXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlTmFtZSA9IGNhbWVsQ2FzZShzdHlsZU5hbWUpXG4gICAgICAgIGlmIChzdHlsZU5hbWUgPT09ICdvcGFjaXR5JyAmJiBpZVZlcnNpb24gPCA5KSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmZpbHRlciA9IGlzTmFOKHZhbHVlKSA/ICcnIDogJ2FscGhhKG9wYWNpdHk9JyArIHZhbHVlICogMTAwICsgJyknXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW3N0eWxlTmFtZV0gPSB2YWx1ZVxuICAgICAgICB9XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGlzU2Nyb2xsID0gKGVsLCB2ZXJ0aWNhbCkgPT4ge1xuICAgIGlmIChpc1NlcnZlcikgcmV0dXJuXG5cbiAgICBjb25zdCBkZXRlcm1pbmVkRGlyZWN0aW9uID0gdmVydGljYWwgIT09IG51bGwgfHwgdmVydGljYWwgIT09IHVuZGVmaW5lZFxuICAgIGNvbnN0IG92ZXJmbG93ID0gZGV0ZXJtaW5lZERpcmVjdGlvblxuICAgICAgICA/IHZlcnRpY2FsXG4gICAgICAgICAgICA/IGdldFN0eWxlKGVsLCAnb3ZlcmZsb3cteScpXG4gICAgICAgICAgICA6IGdldFN0eWxlKGVsLCAnb3ZlcmZsb3cteCcpXG4gICAgICAgIDogZ2V0U3R5bGUoZWwsICdvdmVyZmxvdycpXG5cbiAgICByZXR1cm4gb3ZlcmZsb3cubWF0Y2goLyhzY3JvbGx8YXV0bykvKVxufVxuXG5leHBvcnQgY29uc3QgZ2V0U2Nyb2xsQ29udGFpbmVyID0gKGVsLCB2ZXJ0aWNhbCkgPT4ge1xuICAgIGlmIChpc1NlcnZlcikgcmV0dXJuXG5cbiAgICBsZXQgcGFyZW50ID0gZWxcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGlmIChbd2luZG93LCBkb2N1bWVudCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XS5pbmNsdWRlcyhwYXJlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU2Nyb2xsKHBhcmVudCwgdmVydGljYWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGVcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyZW50XG59XG5cbmV4cG9ydCBjb25zdCBpc0luQ29udGFpbmVyID0gKGVsLCBjb250YWluZXIpID0+IHtcbiAgICBpZiAoaXNTZXJ2ZXIgfHwgIWVsIHx8ICFjb250YWluZXIpIHJldHVybiBmYWxzZVxuXG4gICAgY29uc3QgZWxSZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBsZXQgY29udGFpbmVyUmVjdFxuXG4gICAgaWYgKFt3aW5kb3csIGRvY3VtZW50LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIG51bGwsIHVuZGVmaW5lZF0uaW5jbHVkZXMoY29udGFpbmVyKSkge1xuICAgICAgICBjb250YWluZXJSZWN0ID0ge1xuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgcmlnaHQ6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgYm90dG9tOiB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgfVxuXG4gICAgcmV0dXJuIGVsUmVjdC50b3AgPCBjb250YWluZXJSZWN0LmJvdHRvbSAmJlxuICAgICAgICBlbFJlY3QuYm90dG9tID4gY29udGFpbmVyUmVjdC50b3AgJiZcbiAgICAgICAgZWxSZWN0LnJpZ2h0ID4gY29udGFpbmVyUmVjdC5sZWZ0ICYmXG4gICAgICAgIGVsUmVjdC5sZWZ0IDwgY29udGFpbmVyUmVjdC5yaWdodFxufVxuIiwiZXhwb3J0IGNvbnN0IEJBUl9NQVAgPSB7XG4gIHZlcnRpY2FsOiB7XG4gICAgb2Zmc2V0OiAnb2Zmc2V0SGVpZ2h0JyxcbiAgICBzY3JvbGw6ICdzY3JvbGxUb3AnLFxuICAgIHNjcm9sbFNpemU6ICdzY3JvbGxIZWlnaHQnLFxuICAgIHNpemU6ICdoZWlnaHQnLFxuICAgIGtleTogJ3ZlcnRpY2FsJyxcbiAgICBheGlzOiAnWScsXG4gICAgY2xpZW50OiAnY2xpZW50WScsXG4gICAgZGlyZWN0aW9uOiAndG9wJ1xuICB9LFxuICBob3Jpem9udGFsOiB7XG4gICAgb2Zmc2V0OiAnb2Zmc2V0V2lkdGgnLFxuICAgIHNjcm9sbDogJ3Njcm9sbExlZnQnLFxuICAgIHNjcm9sbFNpemU6ICdzY3JvbGxXaWR0aCcsXG4gICAgc2l6ZTogJ3dpZHRoJyxcbiAgICBrZXk6ICdob3Jpem9udGFsJyxcbiAgICBheGlzOiAnWCcsXG4gICAgY2xpZW50OiAnY2xpZW50WCcsXG4gICAgZGlyZWN0aW9uOiAnbGVmdCdcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyVGh1bWJTdHlsZSh7IG1vdmUsIHNpemUsIGJhciB9KSB7XG4gIGNvbnN0IHN0eWxlID0ge31cbiAgY29uc3QgdHJhbnNsYXRlID0gYHRyYW5zbGF0ZSR7YmFyLmF4aXN9KCR7IG1vdmUgfSUpYFxuXG4gIHN0eWxlW2Jhci5zaXplXSA9IHNpemVcbiAgc3R5bGUudHJhbnNmb3JtID0gdHJhbnNsYXRlXG4gIHN0eWxlLm1zVHJhbnNmb3JtID0gdHJhbnNsYXRlXG4gIHN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHRyYW5zbGF0ZVxuXG4gIHJldHVybiBzdHlsZVxufTtcbiIsImltcG9ydCB7IG9uLCBvZmYgfSBmcm9tICdAL3V0aWxzL2RvbS5qcydcbmltcG9ydCB7IHJlbmRlclRodW1iU3R5bGUsIEJBUl9NQVAgfSBmcm9tICcuL3V0aWwnXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdCYXInLFxuXG4gIHByb3BzOiB7XG4gICAgdmVydGljYWw6IEJvb2xlYW4sXG4gICAgc2l6ZTogU3RyaW5nLFxuICAgIG1vdmU6IE51bWJlclxuICB9LFxuXG4gIGNvbXB1dGVkOiB7XG4gICAgYmFyKCkge1xuICAgICAgcmV0dXJuIEJBUl9NQVBbdGhpcy52ZXJ0aWNhbCA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCddXG4gICAgfSxcblxuICAgIHdyYXAoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kcGFyZW50LndyYXBcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKGgpIHtcbiAgICBjb25zdCB7IHNpemUsIG1vdmUsIGJhciB9ID0gdGhpc1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9e1snZWwtc2Nyb2xsYmFyX19iYXInLCAnaXMtJyArIGJhci5rZXldfVxuICAgICAgICBvbk1vdXNlZG93bj17dGhpcy5jbGlja1RyYWNrSGFuZGxlcn0gPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgcmVmPVwidGh1bWJcIlxuICAgICAgICAgIGNsYXNzPVwiZWwtc2Nyb2xsYmFyX190aHVtYlwiXG4gICAgICAgICAgb25Nb3VzZWRvd249e3RoaXMuY2xpY2tUaHVtYkhhbmRsZXJ9XG4gICAgICAgICAgc3R5bGU9e3JlbmRlclRodW1iU3R5bGUoeyBzaXplLCBtb3ZlLCBiYXIgfSl9PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSxcblxuICBtZXRob2RzOiB7XG4gICAgY2xpY2tUaHVtYkhhbmRsZXIoZSkge1xuICAgICAgLy8gcHJldmVudCBjbGljayBldmVudCBvZiByaWdodCBidXR0b25cbiAgICAgIGlmIChlLmN0cmxLZXkgfHwgZS5idXR0b24gPT09IDIpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICB0aGlzLnN0YXJ0RHJhZyhlKVxuICAgICAgdGhpc1t0aGlzLmJhci5heGlzXSA9IChlLmN1cnJlbnRUYXJnZXRbdGhpcy5iYXIub2Zmc2V0XSAtIChlW3RoaXMuYmFyLmNsaWVudF0gLSBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbdGhpcy5iYXIuZGlyZWN0aW9uXSkpXG4gICAgfSxcblxuICAgIGNsaWNrVHJhY2tIYW5kbGVyKGUpIHtcbiAgICAgIGNvbnN0IG9mZnNldCA9IE1hdGguYWJzKGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3RoaXMuYmFyLmRpcmVjdGlvbl0gLSBlW3RoaXMuYmFyLmNsaWVudF0pXG4gICAgICBjb25zdCB0aHVtYkhhbGYgPSAodGhpcy4kcmVmcy50aHVtYlt0aGlzLmJhci5vZmZzZXRdIC8gMilcbiAgICAgIGNvbnN0IHRodW1iUG9zaXRpb25QZXJjZW50YWdlID0gKChvZmZzZXQgLSB0aHVtYkhhbGYpICogMTAwIC8gdGhpcy4kZWxbdGhpcy5iYXIub2Zmc2V0XSlcblxuICAgICAgdGhpcy53cmFwW3RoaXMuYmFyLnNjcm9sbF0gPSAodGh1bWJQb3NpdGlvblBlcmNlbnRhZ2UgKiB0aGlzLndyYXBbdGhpcy5iYXIuc2Nyb2xsU2l6ZV0gLyAxMDApXG4gICAgfSxcblxuICAgIHN0YXJ0RHJhZyhlKSB7XG4gICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpXG4gICAgICB0aGlzLmN1cnNvckRvd24gPSB0cnVlXG5cbiAgICAgIG9uKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5tb3VzZU1vdmVEb2N1bWVudEhhbmRsZXIpXG4gICAgICBvbihkb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLm1vdXNlVXBEb2N1bWVudEhhbmRsZXIpXG4gICAgICBkb2N1bWVudC5vbnNlbGVjdHN0YXJ0ID0gKCkgPT4gZmFsc2VcbiAgICB9LFxuXG4gICAgbW91c2VNb3ZlRG9jdW1lbnRIYW5kbGVyKGUpIHtcbiAgICAgIGlmICh0aGlzLmN1cnNvckRvd24gPT09IGZhbHNlKSByZXR1cm5cbiAgICAgIGNvbnN0IHByZXZQYWdlID0gdGhpc1t0aGlzLmJhci5heGlzXVxuXG4gICAgICBpZiAoIXByZXZQYWdlKSByZXR1cm5cblxuICAgICAgY29uc3Qgb2Zmc2V0ID0gKCh0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVt0aGlzLmJhci5kaXJlY3Rpb25dIC0gZVt0aGlzLmJhci5jbGllbnRdKSAqIC0xKVxuICAgICAgY29uc3QgdGh1bWJDbGlja1Bvc2l0aW9uID0gKHRoaXMuJHJlZnMudGh1bWJbdGhpcy5iYXIub2Zmc2V0XSAtIHByZXZQYWdlKVxuICAgICAgY29uc3QgdGh1bWJQb3NpdGlvblBlcmNlbnRhZ2UgPSAoKG9mZnNldCAtIHRodW1iQ2xpY2tQb3NpdGlvbikgKiAxMDAgLyB0aGlzLiRlbFt0aGlzLmJhci5vZmZzZXRdKVxuXG4gICAgICB0aGlzLndyYXBbdGhpcy5iYXIuc2Nyb2xsXSA9ICh0aHVtYlBvc2l0aW9uUGVyY2VudGFnZSAqIHRoaXMud3JhcFt0aGlzLmJhci5zY3JvbGxTaXplXSAvIDEwMClcbiAgICB9LFxuXG4gICAgbW91c2VVcERvY3VtZW50SGFuZGxlcihlKSB7XG4gICAgICB0aGlzLmN1cnNvckRvd24gPSBmYWxzZVxuICAgICAgdGhpc1t0aGlzLmJhci5heGlzXSA9IDBcbiAgICAgIG9mZihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMubW91c2VNb3ZlRG9jdW1lbnRIYW5kbGVyKVxuICAgICAgZG9jdW1lbnQub25zZWxlY3RzdGFydCA9IG51bGxcbiAgICB9XG4gIH0sXG5cbiAgZGVzdHJveWVkKCkge1xuICAgIG9mZihkb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLm1vdXNlVXBEb2N1bWVudEhhbmRsZXIpXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=