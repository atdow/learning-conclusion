(window.webpackJsonp=window.webpackJsonp||[]).push([[73,81,114],{206:function(t,n,e){"use strict";e.r(n),e.d(n,"noop",(function(){return c})),e.d(n,"hasOwn",(function(){return u})),e.d(n,"toObject",(function(){return a})),e.d(n,"getValueByPath",(function(){return l})),e.d(n,"getPropByPath",(function(){return f})),e.d(n,"generateId",(function(){return d})),e.d(n,"valueEquals",(function(){return h})),e.d(n,"escapeRegexpString",(function(){return p})),e.d(n,"arrayFindIndex",(function(){return g})),e.d(n,"arrayFind",(function(){return m})),e.d(n,"coerceTruthyValueToArray",(function(){return y})),e.d(n,"isIE",(function(){return b})),e.d(n,"isEdge",(function(){return w})),e.d(n,"isFirefox",(function(){return v})),e.d(n,"autoprefixer",(function(){return j})),e.d(n,"kebabCase",(function(){return S})),e.d(n,"capitalize",(function(){return E})),e.d(n,"looseEqual",(function(){return k})),e.d(n,"arrayEquals",(function(){return O})),e.d(n,"isEqual",(function(){return A})),e.d(n,"isEmpty",(function(){return C})),e.d(n,"rafThrottle",(function(){return T})),e.d(n,"objToArray",(function(){return $})),e.d(n,"throttle",(function(){return M})),e.d(n,"getClientXY",(function(){return D})),e.d(n,"treeDepthFirstTraversal",(function(){return x})),e.d(n,"listDepthFirstTraversal",(function(){return F})),e.d(n,"treeAddMesh",(function(){return I})),e.d(n,"treeAddCollapsed",(function(){return L}));e(94);var r=e(0),i=e(207);const o=Object.prototype.hasOwnProperty;function c(){}function u(t,n){return o.call(t,n)}function s(t,n){for(const e in n)t[e]=n[e];return t}function a(t){var n={};for(let e=0;e<t.length;e++)t[e]&&s(n,t[e]);return n}const l=function(t,n){const e=(n=n||"").split(".");let r=t,i=null;for(let t=0,n=e.length;t<n;t++){const o=e[t];if(!r)break;if(t===n-1){i=r[o];break}r=r[o]}return i};function f(t,n,e){let r=t;const i=(n=(n=n.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");let o=0;for(let t=i.length;o<t-1&&(r||e);++o){const t=i[o];if(!(t in r)){if(e)throw new Error("please transfer a valid prop path to form item!");break}r=r[t]}return{o:r,k:i[o],v:r?r[i[o]]:null}}const d=function(){return Math.floor(1e4*Math.random())},h=(t,n)=>{if(t===n)return!0;if(!(t instanceof Array))return!1;if(!(n instanceof Array))return!1;if(t.length!==n.length)return!1;for(let e=0;e!==t.length;++e)if(t[e]!==n[e])return!1;return!0},p=(t="")=>String(t).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),g=function(t,n){for(let e=0;e!==t.length;++e)if(n(t[e]))return e;return-1},m=function(t,n){const e=g(t,n);return-1!==e?t[e]:void 0},y=function(t){return Array.isArray(t)?t:t?[t]:[]},b=function(){return!r.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},w=function(){return!r.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},v=function(){return!r.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},j=function(t){if("object"!=typeof t)return t;const n=["ms-","webkit-"];return["transform","transition","animation"].forEach(e=>{const r=t[e];e&&r&&n.forEach(n=>{t[n+e]=r})}),t},S=function(t){const n=/([^-])([A-Z])/g;return t.replace(n,"$1-$2").replace(n,"$1-$2").toLowerCase()},E=function(t){return Object(i.isString)(t)?t.charAt(0).toUpperCase()+t.slice(1):t},k=function(t,n){const e=Object(i.isObject)(t),r=Object(i.isObject)(n);return e&&r?JSON.stringify(t)===JSON.stringify(n):!e&&!r&&String(t)===String(n)},O=function(t,n){if(n=n||[],(t=t||[]).length!==n.length)return!1;for(let e=0;e<t.length;e++)if(!k(t[e],n[e]))return!1;return!0},A=function(t,n){return Array.isArray(t)&&Array.isArray(n)?O(t,n):k(t,n)},C=function(t){if(null==t)return!0;if("boolean"==typeof t)return!1;if("number"==typeof t)return!t;if(t instanceof Error)return""===t.message;switch(Object.prototype.toString.call(t)){case"[object String]":case"[object Array]":return!t.length;case"[object File]":case"[object Map]":case"[object Set]":return!t.size;case"[object Object]":return!Object.keys(t).length}return!1};function T(t){let n=!1;return function(...e){n||(n=!0,window.requestAnimationFrame(r=>{t.apply(this,e),n=!1}))}}function $(t){return Array.isArray(t)?t:C(t)?[]:[t]}const M=(t,n)=>{let e,r,i;return function(){const o=this,c=arguments;e?(clearTimeout(r),r=setTimeout(()=>{Date.now()-i>=n&&(t.apply(o,c),i=Date.now())},Math.max(n-(Date.now()-i),0))):(t.apply(o,c),i=Date.now(),e=!0)}},D=function(){return void 0!==window.innerHeight?{width:window.innerWidth,height:window.innerHeight}:"CSS1Compat"===document.compatMode?{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}:{width:document.body.clientWidth,height:document.body.clientHeight}},x=(t={},n=(()=>{}))=>{Object.keys(t).length>0&&n(t,null),t.children&&t.children.length>0&&function t(e=[],r){e.forEach(e=>{n(e,r),e.children&&e.children.length>0&&t(e.children,e)})}(t.children,t)},F=(t=[],n=(()=>{}))=>{!function t(e=[],r){e.forEach(e=>{n(e,r),e.children&&e.children.length>0&&t(e.children,e)})}(t,null)},I=(t={})=>{x(t,(t,n)=>{t.mesh=n?n.mesh+1:0})},L=(t,n=-1)=>{x(t,t=>{t.collapsed=t.mesh+1>n})}},207:function(t,n,e){"use strict";function r(t){return"[object String]"===Object.prototype.toString.call(t)}function i(t){return"[object Object]"===Object.prototype.toString.call(t)}function o(t){return t&&t.nodeType===Node.ELEMENT_NODE}e.r(n),e.d(n,"isString",(function(){return r})),e.d(n,"isObject",(function(){return i})),e.d(n,"isHtmlElement",(function(){return o})),e.d(n,"isFunction",(function(){return c})),e.d(n,"isUndefined",(function(){return u})),e.d(n,"isDefined",(function(){return s}));const c=t=>t&&"[object Function]"==={}.toString.call(t),u=t=>void 0===t,s=t=>null!=t},239:function(t,n,e){"use strict";e.r(n);e(23);var r=e(206);n.default={props:{list:{type:Array,default:function(){return[]}}},data:()=>({flatList:[],activeId:"",isMenuClick:!1}),watch:{list:{immediate:!0,handler:function(){const t=[];Object(r.listDepthFirstTraversal)(this.list,n=>{t.push(n)}),this.flatList=t,this.$nextTick(()=>{this.receiveContentScrollData({scrollTop:20})})}}},methods:{renderList(t){const n=this.$createElement;return t.map(t=>n("li",{class:"markdown-toc-list_item"},[n("a",{style:`padding-left:${20*t.level}px`,attrs:{id:t.id},class:{active:t.id===this.activeId},on:{click:()=>this.menuClick(t)}},[t.text]),n("ul",{class:"markdown-toc-list"},[this.renderList(t.children||[])])]))},menuClick(t){this.activeId=t.id,this.$emit("menuClick",t),this.isMenuClick=!0,setTimeout(()=>{this.isMenuClick=!1},500)},receiveContentScrollData(t){if(this.isMenuClick)return;const{scrollTop:n}=t;this.flatList.map(t=>document.querySelector("#"+t.id));if(this.flatList.forEach(t=>{document.querySelector("#"+t.id).offsetTop-n<30&&(this.activeId=t.id)}),!this.activeId)return;const e=this.$el.querySelector("#"+this.activeId);e&&this.$emit("activeChange",this.activeId,e)}},render(){return(0,arguments[0])("ul",{class:"markdown-toc-list"},[this.renderList(this.list)])}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYXJ0aWNsZS1jYXRhbG9nL01lbnUuanMiXSwibmFtZXMiOlsiaGFzT3duUHJvcGVydHkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJub29wIiwiaGFzT3duIiwib2JqIiwia2V5IiwiY2FsbCIsImV4dGVuZCIsInRvIiwiX2Zyb20iLCJ0b09iamVjdCIsImFyciIsInJlcyIsImkiLCJsZW5ndGgiLCJnZXRWYWx1ZUJ5UGF0aCIsIm9iamVjdCIsInByb3AiLCJwYXRocyIsInNwbGl0IiwiY3VycmVudCIsInJlc3VsdCIsImoiLCJwYXRoIiwiZ2V0UHJvcEJ5UGF0aCIsInN0cmljdCIsInRlbXBPYmoiLCJrZXlBcnIiLCJyZXBsYWNlIiwibGVuIiwiRXJyb3IiLCJvIiwiayIsInYiLCJnZW5lcmF0ZUlkIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidmFsdWVFcXVhbHMiLCJhIiwiYiIsIkFycmF5IiwiZXNjYXBlUmVnZXhwU3RyaW5nIiwidmFsdWUiLCJTdHJpbmciLCJhcnJheUZpbmRJbmRleCIsInByZWQiLCJhcnJheUZpbmQiLCJpZHgiLCJ1bmRlZmluZWQiLCJjb2VyY2VUcnV0aHlWYWx1ZVRvQXJyYXkiLCJ2YWwiLCJpc0FycmF5IiwiaXNJRSIsIlZ1ZSIsIiRpc1NlcnZlciIsImlzTmFOIiwiTnVtYmVyIiwiZG9jdW1lbnQiLCJkb2N1bWVudE1vZGUiLCJpc0VkZ2UiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpbmRleE9mIiwiaXNGaXJlZm94Iiwid2luZG93IiwibWF0Y2giLCJhdXRvcHJlZml4ZXIiLCJzdHlsZSIsInByZWZpeGVzIiwiZm9yRWFjaCIsInJ1bGUiLCJwcmVmaXgiLCJrZWJhYkNhc2UiLCJzdHIiLCJoeXBoZW5hdGVSRSIsInRvTG93ZXJDYXNlIiwiY2FwaXRhbGl6ZSIsImlzU3RyaW5nIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImxvb3NlRXF1YWwiLCJpc09iamVjdEEiLCJpc09iamVjdCIsImlzT2JqZWN0QiIsIkpTT04iLCJzdHJpbmdpZnkiLCJhcnJheUVxdWFscyIsImFycmF5QSIsImFycmF5QiIsImlzRXF1YWwiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJpc0VtcHR5IiwibWVzc2FnZSIsInRvU3RyaW5nIiwic2l6ZSIsImtleXMiLCJyYWZUaHJvdHRsZSIsImZuIiwibG9ja2VkIiwiYXJncyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIl8iLCJhcHBseSIsInRoaXMiLCJvYmpUb0FycmF5IiwidGhyb3R0bGUiLCJ3YWl0IiwiaW5UaHJvdHRsZSIsImxhc3RGbiIsImxhc3RUaW1lIiwiY29udGV4dCIsImFyZ3VtZW50cyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJEYXRlIiwibm93IiwibWF4IiwiZ2V0Q2xpZW50WFkiLCJpbm5lckhlaWdodCIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImNvbXBhdE1vZGUiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImJvZHkiLCJ0cmVlRGVwdGhGaXJzdFRyYXZlcnNhbCIsInRyZWVEYXRhIiwiY2FsbGJhY2siLCJjaGlsZHJlbiIsInJlY3Vyc2lvbiIsImxpc3QiLCJwYXJlbnQiLCJsaXN0SXRlbSIsImxpc3REZXB0aEZpcnN0VHJhdmVyc2FsIiwidHJlZUFkZE1lc2giLCJpdGVtRGF0YSIsIm1lc2giLCJ0cmVlQWRkQ29sbGFwc2VkIiwiZGF0YSIsImNvbGxhcHNlZCIsImlzSHRtbEVsZW1lbnQiLCJub2RlIiwibm9kZVR5cGUiLCJOb2RlIiwiRUxFTUVOVF9OT0RFIiwiaXNGdW5jdGlvbiIsImZ1bmN0aW9uVG9DaGVjayIsImlzVW5kZWZpbmVkIiwiaXNEZWZpbmVkIiwicHJvcHMiLCJ0eXBlIiwiZGVmYXVsdCIsImZsYXRMaXN0IiwiYWN0aXZlSWQiLCJpc01lbnVDbGljayIsIndhdGNoIiwiaW1tZWRpYXRlIiwiaGFuZGxlciIsIml0ZW0iLCJwdXNoIiwiJG5leHRUaWNrIiwicmVjZWl2ZUNvbnRlbnRTY3JvbGxEYXRhIiwic2Nyb2xsVG9wIiwibWV0aG9kcyIsInJlbmRlckxpc3QiLCJoIiwiJGNyZWF0ZUVsZW1lbnQiLCJtYXAiLCJsZXZlbCIsImlkIiwiYWN0aXZlIiwiY2xpY2siLCJtZW51Q2xpY2siLCJ0ZXh0IiwiJGVtaXQiLCJxdWVyeVNlbGVjdG9yIiwib2Zmc2V0VG9wIiwiZG9tIiwiJGVsIiwicmVuZGVyIl0sIm1hcHBpbmdzIjoieTRDQUdBLE1BQU1BLEVBQWlCQyxPQUFPQyxVQUFVRixlQUVqQyxTQUFTRyxLQUVULFNBQVNDLEVBQU9DLEVBQUtDLEdBQzFCLE9BQU9OLEVBQWVPLEtBQUtGLEVBQUtDLEdBR2xDLFNBQVNFLEVBQU9DLEVBQUlDLEdBQ2xCLElBQUssTUFBTUosS0FBT0ksRUFDaEJELEVBQUdILEdBQU9JLEVBQU1KLEdBRWxCLE9BQU9HLEVBR0YsU0FBU0UsRUFBU0MsR0FDdkIsSUFBSUMsRUFBTSxHQUNWLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJRixFQUFJRyxPQUFRRCxJQUMxQkYsRUFBSUUsSUFDTk4sRUFBT0ssRUFBS0QsRUFBSUUsSUFHcEIsT0FBT0QsRUFHRixNQUFNRyxFQUFpQixTQUFVQyxFQUFRQyxHQUU5QyxNQUFNQyxHQURORCxFQUFPQSxHQUFRLElBQ0lFLE1BQU0sS0FDekIsSUFBSUMsRUFBVUosRUFDVkssRUFBUyxLQUNiLElBQUssSUFBSVIsRUFBSSxFQUFHUyxFQUFJSixFQUFNSixPQUFRRCxFQUFJUyxFQUFHVCxJQUFLLENBQzVDLE1BQU1VLEVBQU9MLEVBQU1MLEdBQ25CLElBQUtPLEVBQVMsTUFFZCxHQUFJUCxJQUFNUyxFQUFJLEVBQUcsQ0FDZkQsRUFBU0QsRUFBUUcsR0FDakIsTUFFRkgsRUFBVUEsRUFBUUcsR0FFcEIsT0FBT0YsR0FHRixTQUFTRyxFQUFjcEIsRUFB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QUEsWUFDVCwwQkFBd0IsQ0FBQUEsRUFBQSxXQUV0QixnQkFBNEIsR0FBYlAsRUFBS1UsVUFBYyxVQUN0Q1YsRUFBS1csSUFBRSxNQUNKLENBQUVDLE9BQVFaLEVBQUtXLEtBQU9wRSxLQUFLb0QsVUFBVSxVQUNuQ2tCLElBQU10RSxLQUFLdUUsVUFBVWQsS0FBSyxDQUVsQ0EsRUFBS2UsT0FBSVIsRUFBQSxZQUVGLHFCQUFtQixDQUFFaEUsS0FBSytELFdBQVdOLEVBQUs5QixVQUFZLFVBSXRFNEMsVUFBVWQsR0FDUnpELEtBQUtvRCxTQUFXSyxFQUFLVyxHQUNyQnBFLEtBQUt5RSxNQUFNLFlBQWFoQixHQUN4QnpELEtBQUtxRCxhQUFjLEVBQ25CM0MsV0FBVyxLQUNUVixLQUFLcUQsYUFBYyxHQUNsQixNQUVMTyx5QkFBeUJ2QixHQUN2QixHQUFJckMsS0FBS3FELFlBQ1AsT0FFRixNQUFNLFVBQUVRLEdBQWN4QixFQUNQckMsS0FBS21ELFNBQVNlLElBQUtULEdBQVN6RyxTQUFTMEgsY0FBZSxJQUFHakIsRUFBS1csS0FPM0UsR0FOQXBFLEtBQUttRCxTQUFTdkYsUUFBU21FLElBQ1QvRSxTQUFTMEgsY0FBZSxJQUFHM0MsRUFBU3FDLElBQ3hDTyxVQUFZZCxFQUFZLEtBQzlCN0QsS0FBS29ELFNBQVdyQixFQUFTcUMsT0FHeEJwRSxLQUFLb0QsU0FDUixPQUVGLE1BQU13QixFQUFNNUUsS0FBSzZFLElBQUlILGNBQWUsSUFBRzFFLEtBQUtvRCxVQUN4Q3dCLEdBQ0Y1RSxLQUFLeUUsTUFBTSxlQUFnQnpFLEtBQUtvRCxTQUFVd0IsS0FJaERFLFNBQ0UsT0FBQWQsRUFET3hELFVBQUEsSUFDUCxZQUFpQixxQkFBbUIsQ0FBRVIsS0FBSytELFdBQVcvRCxLQUFLNkIiLCJmaWxlIjoianMvNzMuYmRiZDhjMjMxZTkyMzRiYmRhNzguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcbmltcG9ydCB7IGlzU3RyaW5nLCBpc09iamVjdCB9IGZyb20gJ0AvdXRpbHMvdHlwZXMnXG5cbmNvbnN0IGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuXG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpIHsgfVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzT3duKG9iaiwga2V5KSB7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KVxufVxuXG5mdW5jdGlvbiBleHRlbmQodG8sIF9mcm9tKSB7XG4gIGZvciAoY29uc3Qga2V5IGluIF9mcm9tKSB7XG4gICAgdG9ba2V5XSA9IF9mcm9tW2tleV1cbiAgfVxuICByZXR1cm4gdG9cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvT2JqZWN0KGFycikge1xuICB2YXIgcmVzID0ge31cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYXJyW2ldKSB7XG4gICAgICBleHRlbmQocmVzLCBhcnJbaV0pXG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZXhwb3J0IGNvbnN0IGdldFZhbHVlQnlQYXRoID0gZnVuY3Rpb24gKG9iamVjdCwgcHJvcCkge1xuICBwcm9wID0gcHJvcCB8fCAnJ1xuICBjb25zdCBwYXRocyA9IHByb3Auc3BsaXQoJy4nKVxuICBsZXQgY3VycmVudCA9IG9iamVjdFxuICBsZXQgcmVzdWx0ID0gbnVsbFxuICBmb3IgKGxldCBpID0gMCwgaiA9IHBhdGhzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGNvbnN0IHBhdGggPSBwYXRoc1tpXVxuICAgIGlmICghY3VycmVudCkgYnJlYWtcblxuICAgIGlmIChpID09PSBqIC0gMSkge1xuICAgICAgcmVzdWx0ID0gY3VycmVudFtwYXRoXVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY3VycmVudCA9IGN1cnJlbnRbcGF0aF1cbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9wQnlQYXRoKG9iaiwgcGF0aCwgc3RyaWN0KSB7XG4gIGxldCB0ZW1wT2JqID0gb2JqXG4gIHBhdGggPSBwYXRoLnJlcGxhY2UoL1xcWyhcXHcrKVxcXS9nLCAnLiQxJylcbiAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXlxcLi8sICcnKVxuXG4gIGNvbnN0IGtleUFyciA9IHBhdGguc3BsaXQoJy4nKVxuICBsZXQgaSA9IDBcbiAgZm9yIChsZXQgbGVuID0ga2V5QXJyLmxlbmd0aDsgaSA8IGxlbiAtIDE7ICsraSkge1xuICAgIGlmICghdGVtcE9iaiAmJiAhc3RyaWN0KSBicmVha1xuICAgIGNvbnN0IGtleSA9IGtleUFycltpXVxuICAgIGlmIChrZXkgaW4gdGVtcE9iaikge1xuICAgICAgdGVtcE9iaiA9IHRlbXBPYmpba2V5XVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigncGxlYXNlIHRyYW5zZmVyIGEgdmFsaWQgcHJvcCBwYXRoIHRvIGZvcm0gaXRlbSEnKVxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBvOiB0ZW1wT2JqLFxuICAgIGs6IGtleUFycltpXSxcbiAgICB2OiB0ZW1wT2JqID8gdGVtcE9ialtrZXlBcnJbaV1dIDogbnVsbCxcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVJZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKVxufVxuXG5leHBvcnQgY29uc3QgdmFsdWVFcXVhbHMgPSAoYSwgYikgPT4ge1xuICAvLyBzZWU6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMxMTU5ODIvaG93LXRvLWNoZWNrLWlmLXR3by1hcnJheXMtYXJlLWVxdWFsLXdpdGgtamF2YXNjcmlwdFxuICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWVcbiAgaWYgKCEoYSBpbnN0YW5jZW9mIEFycmF5KSkgcmV0dXJuIGZhbHNlXG4gIGlmICghKGIgaW5zdGFuY2VvZiBBcnJheSkpIHJldHVybiBmYWxzZVxuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2VcbiAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGEubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkgcmV0dXJuIGZhbHNlXG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuZXhwb3J0IGNvbnN0IGVzY2FwZVJlZ2V4cFN0cmluZyA9ICh2YWx1ZSA9ICcnKSA9PlxuICBTdHJpbmcodmFsdWUpLnJlcGxhY2UoL1t8XFxcXHt9KClbXFxdXiQrKj8uXS9nLCAnXFxcXCQmJylcblxuLy8gVE9ETzogdXNlIG5hdGl2ZSBBcnJheS5maW5kLCBBcnJheS5maW5kSW5kZXggd2hlbiBJRSBzdXBwb3J0IGlzIGRyb3BwZWRcbmV4cG9ydCBjb25zdCBhcnJheUZpbmRJbmRleCA9IGZ1bmN0aW9uIChhcnIsIHByZWQpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGFyci5sZW5ndGg7ICsraSkge1xuICAgIGlmIChwcmVkKGFycltpXSkpIHtcbiAgICAgIHJldHVybiBpXG4gICAgfVxuICB9XG4gIHJldHVybiAtMVxufVxuXG5leHBvcnQgY29uc3QgYXJyYXlGaW5kID0gZnVuY3Rpb24gKGFyciwgcHJlZCkge1xuICBjb25zdCBpZHggPSBhcnJheUZpbmRJbmRleChhcnIsIHByZWQpXG4gIHJldHVybiBpZHggIT09IC0xID8gYXJyW2lkeF0gOiB1bmRlZmluZWRcbn1cblxuLy8gY29lcmNlIHRydXRoeSB2YWx1ZSB0byBhcnJheVxuZXhwb3J0IGNvbnN0IGNvZXJjZVRydXRoeVZhbHVlVG9BcnJheSA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgIHJldHVybiB2YWxcbiAgfSBlbHNlIGlmICh2YWwpIHtcbiAgICByZXR1cm4gW3ZhbF1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW11cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgaXNJRSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICFWdWUucHJvdG90eXBlLiRpc1NlcnZlciAmJiAhaXNOYU4oTnVtYmVyKGRvY3VtZW50LmRvY3VtZW50TW9kZSkpXG59XG5cbmV4cG9ydCBjb25zdCBpc0VkZ2UgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAhVnVlLnByb3RvdHlwZS4kaXNTZXJ2ZXIgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdFZGdlJykgPiAtMVxufVxuXG5leHBvcnQgY29uc3QgaXNGaXJlZm94ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gKFxuICAgICFWdWUucHJvdG90eXBlLiRpc1NlcnZlciAmJiAhIXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9maXJlZm94L2kpXG4gIClcbn1cblxuZXhwb3J0IGNvbnN0IGF1dG9wcmVmaXhlciA9IGZ1bmN0aW9uIChzdHlsZSkge1xuICBpZiAodHlwZW9mIHN0eWxlICE9PSAnb2JqZWN0JykgcmV0dXJuIHN0eWxlXG4gIGNvbnN0IHJ1bGVzID0gWyd0cmFuc2Zvcm0nLCAndHJhbnNpdGlvbicsICdhbmltYXRpb24nXVxuICBjb25zdCBwcmVmaXhlcyA9IFsnbXMtJywgJ3dlYmtpdC0nXVxuICBydWxlcy5mb3JFYWNoKChydWxlKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBzdHlsZVtydWxlXVxuICAgIGlmIChydWxlICYmIHZhbHVlKSB7XG4gICAgICBwcmVmaXhlcy5mb3JFYWNoKChwcmVmaXgpID0+IHtcbiAgICAgICAgc3R5bGVbcHJlZml4ICsgcnVsZV0gPSB2YWx1ZVxuICAgICAgfSlcbiAgICB9XG4gIH0pXG4gIHJldHVybiBzdHlsZVxufVxuXG5leHBvcnQgY29uc3Qga2ViYWJDYXNlID0gZnVuY3Rpb24gKHN0cikge1xuICBjb25zdCBoeXBoZW5hdGVSRSA9IC8oW14tXSkoW0EtWl0pL2dcbiAgcmV0dXJuIHN0clxuICAgIC5yZXBsYWNlKGh5cGhlbmF0ZVJFLCAnJDEtJDInKVxuICAgIC5yZXBsYWNlKGh5cGhlbmF0ZVJFLCAnJDEtJDInKVxuICAgIC50b0xvd2VyQ2FzZSgpXG59XG5cbmV4cG9ydCBjb25zdCBjYXBpdGFsaXplID0gZnVuY3Rpb24gKHN0cikge1xuICBpZiAoIWlzU3RyaW5nKHN0cikpIHJldHVybiBzdHJcbiAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKVxufVxuXG5leHBvcnQgY29uc3QgbG9vc2VFcXVhbCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIGNvbnN0IGlzT2JqZWN0QSA9IGlzT2JqZWN0KGEpXG4gIGNvbnN0IGlzT2JqZWN0QiA9IGlzT2JqZWN0KGIpXG4gIGlmIChpc09iamVjdEEgJiYgaXNPYmplY3RCKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGEpID09PSBKU09OLnN0cmluZ2lmeShiKVxuICB9IGVsc2UgaWYgKCFpc09iamVjdEEgJiYgIWlzT2JqZWN0Qikge1xuICAgIHJldHVybiBTdHJpbmcoYSkgPT09IFN0cmluZyhiKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBhcnJheUVxdWFscyA9IGZ1bmN0aW9uIChhcnJheUEsIGFycmF5Qikge1xuICBhcnJheUEgPSBhcnJheUEgfHwgW11cbiAgYXJyYXlCID0gYXJyYXlCIHx8IFtdXG5cbiAgaWYgKGFycmF5QS5sZW5ndGggIT09IGFycmF5Qi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlBLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFsb29zZUVxdWFsKGFycmF5QVtpXSwgYXJyYXlCW2ldKSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWVcbn1cblxuZXhwb3J0IGNvbnN0IGlzRXF1YWwgPSBmdW5jdGlvbiAodmFsdWUxLCB2YWx1ZTIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUxKSAmJiBBcnJheS5pc0FycmF5KHZhbHVlMikpIHtcbiAgICByZXR1cm4gYXJyYXlFcXVhbHModmFsdWUxLCB2YWx1ZTIpXG4gIH1cbiAgcmV0dXJuIGxvb3NlRXF1YWwodmFsdWUxLCB2YWx1ZTIpXG59XG5cbmV4cG9ydCBjb25zdCBpc0VtcHR5ID0gZnVuY3Rpb24gKHZhbCkge1xuICAvLyBudWxsIG9yIHVuZGVmaW5lZFxuICBpZiAodmFsID09IG51bGwpIHJldHVybiB0cnVlXG5cbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdib29sZWFuJykgcmV0dXJuIGZhbHNlXG5cbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSByZXR1cm4gIXZhbFxuXG4gIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHZhbC5tZXNzYWdlID09PSAnJ1xuXG4gIHN3aXRjaCAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCkpIHtcbiAgICAvLyBTdHJpbmcgb3IgQXJyYXlcbiAgICBjYXNlICdbb2JqZWN0IFN0cmluZ10nOlxuICAgIGNhc2UgJ1tvYmplY3QgQXJyYXldJzpcbiAgICAgIHJldHVybiAhdmFsLmxlbmd0aFxuXG4gICAgLy8gTWFwIG9yIFNldCBvciBGaWxlXG4gICAgY2FzZSAnW29iamVjdCBGaWxlXSc6XG4gICAgY2FzZSAnW29iamVjdCBNYXBdJzpcbiAgICBjYXNlICdbb2JqZWN0IFNldF0nOiB7XG4gICAgICByZXR1cm4gIXZhbC5zaXplXG4gICAgfVxuICAgIC8vIFBsYWluIE9iamVjdFxuICAgIGNhc2UgJ1tvYmplY3QgT2JqZWN0XSc6IHtcbiAgICAgIHJldHVybiAhT2JqZWN0LmtleXModmFsKS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhZlRocm90dGxlKGZuKSB7XG4gIGxldCBsb2NrZWQgPSBmYWxzZVxuICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICBpZiAobG9ja2VkKSByZXR1cm5cbiAgICBsb2NrZWQgPSB0cnVlXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoXykgPT4ge1xuICAgICAgZm4uYXBwbHkodGhpcywgYXJncylcbiAgICAgIGxvY2tlZCA9IGZhbHNlXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gb2JqVG9BcnJheShvYmopIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIHJldHVybiBvYmpcbiAgfVxuICByZXR1cm4gaXNFbXB0eShvYmopID8gW10gOiBbb2JqXVxufVxuXG4vKipcbiAqIOiKgua1gVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4g5o6n5Yi26IqC5rWB55qE5Ye95pWwXG4gKiBAcGFyYW0ge051bWJlcn0gd2FpdCAg5q+r56eSXG4gKiBAcmV0dXJucyDov5Tlm57oioLmtYHlh73mlbBcbiAqL1xuZXhwb3J0IGNvbnN0IHRocm90dGxlID0gKGZuLCB3YWl0KSA9PiB7XG4gIGxldCBpblRocm90dGxlLCBsYXN0Rm4sIGxhc3RUaW1lXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXNcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzXG4gICAgaWYgKCFpblRocm90dGxlKSB7XG4gICAgICBmbi5hcHBseShjb250ZXh0LCBhcmdzKVxuICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpXG4gICAgICBpblRocm90dGxlID0gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBjbGVhclRpbWVvdXQobGFzdEZuKVxuICAgICAgbGFzdEZuID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChEYXRlLm5vdygpIC0gbGFzdFRpbWUgPj0gd2FpdCkge1xuICAgICAgICAgIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpXG4gICAgICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpXG4gICAgICAgIH1cbiAgICAgIH0sIE1hdGgubWF4KHdhaXQgLSAoRGF0ZS5ub3coKSAtIGxhc3RUaW1lKSwgMCkpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRDbGllbnRYWSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxuICAgIH1cbiAgfSBlbHNlIGlmIChkb2N1bWVudC5jb21wYXRNb2RlID09PSAnQ1NTMUNvbXBhdCcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgIGhlaWdodDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLFxuICAgICAgaGVpZ2h0OiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCxcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiDmoJHnuqfmlbDmja7mt7HluqbkvJjlhYjpgY3ljoZcbiAqIEBwYXJhbSB7IE9iamVjdCB9IHRyZWVEYXRhIFxuICogQHBhcmFtIHsgRnVuY3Rpb24gfSBjYWxsYmFjayAoZGF0YSwgcGFyZW50KT0+e30g5Zue6LCD5Ye95pWw5LiA5Liq5Y+C5pWw5piv5b2T5YmN6YGN5Y6G6aG577yM56ys5LqM5Liq5Y+C5pWw5piv5b2T5YmN6aG554i257qn77yI5qC56IqC54K555qEcGFyZW50PT09bnVsbO+8iVxuICovXG5leHBvcnQgY29uc3QgdHJlZURlcHRoRmlyc3RUcmF2ZXJzYWwgPSAodHJlZURhdGEgPSB7fSwgY2FsbGJhY2sgPSAoKSA9PiB7IH0pID0+IHtcbiAgaWYgKE9iamVjdC5rZXlzKHRyZWVEYXRhKS5sZW5ndGggPiAwKSB7XG4gICAgY2FsbGJhY2sodHJlZURhdGEsIG51bGwpXG4gIH1cbiAgaWYgKHRyZWVEYXRhLmNoaWxkcmVuICYmIHRyZWVEYXRhLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICByZWN1cnNpb24odHJlZURhdGEuY2hpbGRyZW4sIHRyZWVEYXRhKVxuICB9XG4gIGZ1bmN0aW9uIHJlY3Vyc2lvbihsaXN0ID0gW10sIHBhcmVudCkge1xuICAgIGxpc3QuZm9yRWFjaChsaXN0SXRlbSA9PiB7XG4gICAgICBjYWxsYmFjayhsaXN0SXRlbSwgcGFyZW50KVxuICAgICAgaWYgKGxpc3RJdGVtLmNoaWxkcmVuICYmIGxpc3RJdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVjdXJzaW9uKGxpc3RJdGVtLmNoaWxkcmVuLCBsaXN0SXRlbSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG5cbi8qKlxuICogbGlzdOaVsOaNrua3seW6puS8mOWFiOmBjeWOhlxuICogQHBhcmFtIHsgQXJyYXkgfSBsaXN0IFxuICogQHBhcmFtIHsgRnVuY3Rpb24gfSBjYWxsYmFjayAoZGF0YSwgcGFyZW50KT0+e30g5Zue6LCD5Ye95pWw5LiA5Liq5Y+C5pWw5piv5b2T5YmN6YGN5Y6G6aG577yM56ys5LqM5Liq5Y+C5pWw5piv5b2T5YmN6aG554i257qn77yI5qC56IqC54K555qEcGFyZW50PT09bnVsbO+8iVxuICovXG5leHBvcnQgY29uc3QgbGlzdERlcHRoRmlyc3RUcmF2ZXJzYWwgPSAobGlzdCA9IFtdLCBjYWxsYmFjayA9ICgpID0+IHsgfSkgPT4ge1xuICByZWN1cnNpb24obGlzdCwgbnVsbClcbiAgZnVuY3Rpb24gcmVjdXJzaW9uKGxpc3QgPSBbXSwgcGFyZW50KSB7XG4gICAgbGlzdC5mb3JFYWNoKGxpc3RJdGVtID0+IHtcbiAgICAgIGNhbGxiYWNrKGxpc3RJdGVtLCBwYXJlbnQpXG4gICAgICBpZiAobGlzdEl0ZW0uY2hpbGRyZW4gJiYgbGlzdEl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICByZWN1cnNpb24obGlzdEl0ZW0uY2hpbGRyZW4sIGxpc3RJdGVtKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxuLyoqXG4gKiDnu5nmoJHnuqfmlbDmja7lop7liqBtZXNo5bGC57qn77yIbWVzaOS7jjDlvIDlp4vvvIlcbiAqIEBwYXJhbSB7IE9iamVjdCB9IHRyZWVEYXRhIFxuICovXG5leHBvcnQgY29uc3QgdHJlZUFkZE1lc2ggPSAodHJlZURhdGEgPSB7fSkgPT4ge1xuICB0cmVlRGVwdGhGaXJzdFRyYXZlcnNhbCh0cmVlRGF0YSwgKGl0ZW1EYXRhLCBwYXJlbnQpID0+IHtcbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgaXRlbURhdGEubWVzaCA9IDBcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbURhdGEubWVzaCA9IHBhcmVudC5tZXNoICsgMVxuICAgIH1cbiAgfSlcbn1cblxuLyoqXG4gKiDnu5nmoJHnuqfmlbDmja7lop7liqDmjIflrprliLDlsYLnuqdjb2xsYXBzZWTlsZ7mgKdcbiAqIEBwYXJhbSB7IE9iamVjdCB9IHRyZWVEYXRhIFxuICogQHBhcmFtIHsgTnVtYmVyIH0gbWVzaCDlsZXlvIDliLDpgqPkuKrlsYLnuqdcbiAqL1xuZXhwb3J0IGNvbnN0IHRyZWVBZGRDb2xsYXBzZWQgPSAodHJlZURhdGEsIG1lc2ggPSAtMSkgPT4ge1xuICB0cmVlRGVwdGhGaXJzdFRyYXZlcnNhbCh0cmVlRGF0YSwgKGRhdGEpID0+IHtcbiAgICBkYXRhLmNvbGxhcHNlZCA9IGRhdGEubWVzaCArIDEgPiBtZXNoID8gdHJ1ZSA6IGZhbHNlXG4gIH0pXG59IiwiZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgU3RyaW5nXSdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSHRtbEVsZW1lbnQobm9kZSkge1xuICAgIHJldHVybiBub2RlICYmIG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFXG59XG5cbmV4cG9ydCBjb25zdCBpc0Z1bmN0aW9uID0gKGZ1bmN0aW9uVG9DaGVjaykgPT4ge1xuICAgIHZhciBnZXRUeXBlID0ge31cbiAgICByZXR1cm4gZnVuY3Rpb25Ub0NoZWNrICYmIGdldFR5cGUudG9TdHJpbmcuY2FsbChmdW5jdGlvblRvQ2hlY2spID09PSAnW29iamVjdCBGdW5jdGlvbl0nXG59XG5cbmV4cG9ydCBjb25zdCBpc1VuZGVmaW5lZCA9ICh2YWwpID0+IHtcbiAgICByZXR1cm4gdmFsID09PSB2b2lkIDBcbn1cblxuZXhwb3J0IGNvbnN0IGlzRGVmaW5lZCA9ICh2YWwpID0+IHtcbiAgICByZXR1cm4gdmFsICE9PSB1bmRlZmluZWQgJiYgdmFsICE9PSBudWxsXG59XG4iLCIvKlxuICogQEF1dGhvcjogYXRkb3dcbiAqIEBEYXRlOiAyMDIzLTAyLTI4IDE3OjIyOjA0XG4gKiBATGFzdEVkaXRvcnM6IG51bGxcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMDItMjggMjE6MjA6MDdcbiAqIEBEZXNjcmlwdGlvbjogZmlsZSBkZXNjcmlwdGlvblxuICovXG5pbXBvcnQgeyBsaXN0RGVwdGhGaXJzdFRyYXZlcnNhbCB9IGZyb20gJ0AvdXRpbHMvdXRpbCdcbmV4cG9ydCBkZWZhdWx0IHtcbiAgcHJvcHM6IHtcbiAgICBsaXN0OiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZsYXRMaXN0OiBbXSxcbiAgICAgIGFjdGl2ZUlkOiAnJyxcbiAgICAgIGlzTWVudUNsaWNrOiBmYWxzZSxcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgbGlzdDoge1xuICAgICAgaW1tZWRpYXRlOiB0cnVlLFxuICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBmbGF0TGlzdCA9IFtdXG4gICAgICAgIGxpc3REZXB0aEZpcnN0VHJhdmVyc2FsKHRoaXMubGlzdCwgKGl0ZW0pID0+IHtcbiAgICAgICAgICBmbGF0TGlzdC5wdXNoKGl0ZW0pXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuZmxhdExpc3QgPSBmbGF0TGlzdFxuICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZWNlaXZlQ29udGVudFNjcm9sbERhdGEoeyBzY3JvbGxUb3A6IDIwIH0pXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICByZW5kZXJMaXN0KGxpc3QpIHtcbiAgICAgIHJldHVybiBsaXN0Lm1hcCgoaXRlbSkgPT4gKFxuICAgICAgICA8bGkgY2xhc3M9XCJtYXJrZG93bi10b2MtbGlzdF9pdGVtXCI+XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIHN0eWxlPXtgcGFkZGluZy1sZWZ0OiR7aXRlbS5sZXZlbCAqIDIwfXB4YH1cbiAgICAgICAgICAgIGlkPXtpdGVtLmlkfVxuICAgICAgICAgICAgY2xhc3M9e3sgYWN0aXZlOiBpdGVtLmlkID09PSB0aGlzLmFjdGl2ZUlkIH19XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLm1lbnVDbGljayhpdGVtKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aXRlbS50ZXh0fVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJtYXJrZG93bi10b2MtbGlzdFwiPnt0aGlzLnJlbmRlckxpc3QoaXRlbS5jaGlsZHJlbiB8fCBbXSl9PC91bD5cbiAgICAgICAgPC9saT5cbiAgICAgICkpXG4gICAgfSxcbiAgICBtZW51Q2xpY2soaXRlbSkge1xuICAgICAgdGhpcy5hY3RpdmVJZCA9IGl0ZW0uaWRcbiAgICAgIHRoaXMuJGVtaXQoJ21lbnVDbGljaycsIGl0ZW0pXG4gICAgICB0aGlzLmlzTWVudUNsaWNrID0gdHJ1ZVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuaXNNZW51Q2xpY2sgPSBmYWxzZVxuICAgICAgfSwgNTAwKVxuICAgIH0sXG4gICAgcmVjZWl2ZUNvbnRlbnRTY3JvbGxEYXRhKGRhdGEpIHtcbiAgICAgIGlmICh0aGlzLmlzTWVudUNsaWNrKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgeyBzY3JvbGxUb3AgfSA9IGRhdGFcbiAgICAgIGNvbnN0IGRvbU1hcCA9IHRoaXMuZmxhdExpc3QubWFwKChpdGVtKSA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpdGVtLmlkfWApKVxuICAgICAgdGhpcy5mbGF0TGlzdC5mb3JFYWNoKChsaXN0SXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBkb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtsaXN0SXRlbS5pZH1gKVxuICAgICAgICBpZiAoZG9tLm9mZnNldFRvcCAtIHNjcm9sbFRvcCA8IDMwKSB7XG4gICAgICAgICAgdGhpcy5hY3RpdmVJZCA9IGxpc3RJdGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBpZiAoIXRoaXMuYWN0aXZlSWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjb25zdCBkb20gPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmFjdGl2ZUlkfWApXG4gICAgICBpZiAoZG9tKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ2FjdGl2ZUNoYW5nZScsIHRoaXMuYWN0aXZlSWQsIGRvbSlcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDx1bCBjbGFzcz1cIm1hcmtkb3duLXRvYy1saXN0XCI+e3RoaXMucmVuZGVyTGlzdCh0aGlzLmxpc3QpfTwvdWw+XG4gIH0sXG59XG4iXSwic291cmNlUm9vdCI6IiJ9