(window.webpackJsonp=window.webpackJsonp||[]).push([[45,49,78,85,104,105,111],{198:function(t,e,s){"use strict";s.r(e),s.d(e,"BAR_MAP",(function(){return r})),s.d(e,"renderThumbStyle",(function(){return o})),s.d(e,"on",(function(){return n})),s.d(e,"off",(function(){return l})),s.d(e,"toObject",(function(){return c}));const i=s(0).default.prototype.$isServer,r={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function o({move:t,size:e,bar:s}){const i={},r=`translate${s.axis}(${t}%)`;return i[s.size]=e,i.transform=r,i.msTransform=r,i.webkitTransform=r,i}const n=!i&&document.addEventListener?function(t,e,s){t&&e&&s&&t.addEventListener(e,s,!1)}:function(t,e,s){t&&e&&s&&t.attachEvent("on"+e,s)},l=!i&&document.removeEventListener?function(t,e,s){t&&e&&t.removeEventListener(e,s,!1)}:function(t,e,s){t&&e&&t.detachEvent("on"+e,s)};function a(t,e){for(const s in e)t[s]=e[s];return t}function c(t){var e={};for(let s=0;s<t.length;s++)t[s]&&a(e,t[s]);return e}},199:function(t,e,s){"use strict";s.r(e),s.d(e,"addResizeListener",(function(){return n})),s.d(e,"removeResizeListener",(function(){return l}));s(23);var i=s(291);const r="undefined"==typeof window,o=function(t){for(const e of t){const t=e.target.__resizeListeners__||[];t.length&&t.forEach(t=>{t()})}},n=function(t,e){r||(t.__resizeListeners__||(t.__resizeListeners__=[],t.__ro__=new i.default(o),t.__ro__.observe(t)),t.__resizeListeners__.push(e))},l=function(t,e){t&&t.__resizeListeners__&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||t.__ro__.disconnect())}},200:function(t,e,s){"use strict";s.r(e);var i=s(0);let r;e.default=function(){if(i.default.prototype.$isServer)return 0;if(void 0!==r)return r;const t=document.createElement("div");t.className="sino-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const e=t.offsetWidth;t.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",t.appendChild(s);const o=s.offsetWidth;return t.parentNode.removeChild(t),r=e-o,r}},201:function(t,e,s){"use strict";s.r(e);var i=s(198);e.default={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar(){return i.BAR_MAP[this.vertical?"vertical":"horizontal"]},wrap(){return this.$parent.wrap}},render(t){const{size:e,move:s,bar:r}=this;return t("div",{class:["sino-scrollbar__bar","is-"+r.key],on:{mousedown:this.clickTrackHandler}},[t("div",{ref:"thumb",class:"sino-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:Object(i.renderThumbStyle)({size:e,move:s,bar:r})})])},methods:{clickThumbHandler(t){t.ctrlKey||2===t.button||(this.startDrag(t),this[this.bar.axis]=t.currentTarget[this.bar.offset]-(t[this.bar.client]-t.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler(t){const e=100*(Math.abs(t.target.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-this.$refs.thumb[this.bar.offset]/2)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=e*this.wrap[this.bar.scrollSize]/100},startDrag(t){t.stopImmediatePropagation(),this.cursorDown=!0,Object(i.on)(document,"mousemove",this.mouseMoveDocumentHandler),Object(i.on)(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=()=>!1},mouseMoveDocumentHandler(t){if(!1===this.cursorDown)return;const e=this[this.bar.axis];if(!e)return;const s=100*(-1*(this.$el.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-(this.$refs.thumb[this.bar.offset]-e))/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=s*this.wrap[this.bar.scrollSize]/100},mouseUpDocumentHandler(t){this.cursorDown=!1,this[this.bar.axis]=0,Object(i.off)(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed(){Object(i.off)(document,"mouseup",this.mouseUpDocumentHandler)}}},202:function(t,e,s){var i=s(2),r=s(290);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);t.exports=r.locals||{}},203:function(t,e,s){"use strict";s.r(e);var i=s(204);i.default.install=function(t){t.component(i.default.name,i.default)},e.default=i.default},204:function(t,e,s){"use strict";s.r(e);s(23);var i=s(199),r=s(200),o=s(198),n=s(201);s(202),e.default={name:"SinoScrollbar",components:{Bar:n.default},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},showHorizontalBar:{type:Boolean,default:!0},showVerticalBar:{type:Boolean,default:!0},noresize:Boolean,tag:{type:String,default:"div"}},data:()=>({sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}),computed:{wrap(){return this.$refs.wrap}},render(t){const e=Object(r.default)();let s=this.wrapStyle;if(e){const t=`-${e}px`,i=`margin-bottom: ${t}; margin-right: ${t};`;Array.isArray(this.wrapStyle)?(s=Object(o.toObject)(this.wrapStyle),s.marginRight=s.marginBottom=t):"string"==typeof this.wrapStyle?s+=i:s=i,s+=`width: calc(100% + ${e}px);height: calc(100% + ${e}px);`}else s+="width: 100%;height: 100%;";const i=t(this.tag,{class:["sino-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),l=t("div",{ref:"wrap",style:s,on:{scroll:this.handleScroll},class:[this.wrapClass,"sino-scrollbar__wrap",e?"":"sino-scrollbar__wrap--hidden-default"]},[[i]]);let a;return this.native?a=[t("div",{ref:"wrap",class:[this.wrapClass,"sino-scrollbar__wrap"],style:s},[[i]])]:(a=[l],this.showHorizontalBar&&a.push(t(n.default,{attrs:{move:this.moveX,size:this.sizeWidth}})),this.showVerticalBar&&a.push(t(n.default,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}}))),t("div",{class:"sino-scrollbar"},a)},methods:{handleScroll(t){const e=this.wrap;this.moveY=100*e.scrollTop/e.clientHeight,this.moveX=100*e.scrollLeft/e.clientWidth,this.$emit("scroll",{scrollTop:t.target.scrollTop,scrollLeft:t.target.scrollLeft,e:t}),t.target.scrollTop+t.target.offsetHeight>=t.target.scrollHeight&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.$emit("scrollBottom")},100))},update(){let t="",e="";const s=this.wrap;s&&(t=100*s.clientHeight/s.scrollHeight,e=100*s.clientWidth/s.scrollWidth,this.sizeHeight=t<100?t+"%":"",this.sizeWidth=e<100?e+"%":"")},resetToTop(){this.wrap.scrollTop=0},scrollToTop(t){this.wrap.scrollTop=t}},mounted(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(i.addResizeListener)(this.$refs.resize,this.update))},beforeDestroy(){this.native||!this.noresize&&Object(i.removeResizeListener)(this.$refs.resize,this.update)}}},290:function(t,e,s){(e=s(3)(!1)).push([t.i,".sino-scrollbar__wrap {\n  overflow: scroll;\n  height: 100%;\n  width: 100%;\n}\n.sino-scrollbar {\n  overflow: hidden;\n  position: relative;\n}\n.sino-scrollbar__bar {\n  position: absolute;\n  right: 2px;\n  bottom: 2px;\n  z-index: 1;\n  border-radius: 4px;\n  opacity: 1;\n  transition: opacity 0.12s ease-out;\n}\n.sino-scrollbar__bar.is-horizontal {\n  height: 6px;\n  left: 2px;\n}\n.sino-scrollbar__bar.is-horizontal > div {\n  height: 100%;\n}\n.sino-scrollbar__bar.is-vertical {\n  width: 6px;\n  top: 2px;\n}\n.sino-scrollbar__bar.is-vertical > div {\n  width: 100%;\n}\n.sino-scrollbar__thumb {\n  position: relative;\n  display: block;\n  width: 0;\n  height: 0;\n  cursor: pointer;\n  border-radius: inherit;\n  background-color: rgba(180, 185, 210, 0.4);\n  transition: background-color 0.3s;\n}\n",""]),t.exports=e}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFja2FnZXMvc2Nyb2xsYmFyL3NyYy91dGlsLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9yZXNpemUtZXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhY2thZ2VzL3Njcm9sbGJhci9zcmMvc2Nyb2xsYmFyLXdpZHRoLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWNrYWdlcy9zY3JvbGxiYXIvc3JjL2Jhci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFja2FnZXMvc2Nyb2xsYmFyL3NyYy9zdHlsZXMubGVzcz85YzA2Iiwid2VicGFjazovLy8uL3NyYy9wYWNrYWdlcy9zY3JvbGxiYXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhY2thZ2VzL3Njcm9sbGJhci9zcmMvc2Nyb2xsYmFyLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWNrYWdlcy9zY3JvbGxiYXIvc3JjL3N0eWxlcy5sZXNzIl0sIm5hbWVzIjpbImlzU2VydmVyIiwiVnVlIiwicHJvdG90eXBlIiwiJGlzU2VydmVyIiwiQkFSX01BUCIsInZlcnRpY2FsIiwib2Zmc2V0Iiwic2Nyb2xsIiwic2Nyb2xsU2l6ZSIsInNpemUiLCJrZXkiLCJheGlzIiwiY2xpZW50IiwiZGlyZWN0aW9uIiwiaG9yaXpvbnRhbCIsInJlbmRlclRodW1iU3R5bGUiLCJtb3ZlIiwiYmFyIiwic3R5bGUiLCJ0cmFuc2xhdGUiLCJ0cmFuc2Zvcm0iLCJtc1RyYW5zZm9ybSIsIndlYmtpdFRyYW5zZm9ybSIsIm9uIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZWxlbWVudCIsImV2ZW50IiwiaGFuZGxlciIsImF0dGFjaEV2ZW50Iiwib2ZmIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwiZXh0ZW5kIiwidG8iLCJfZnJvbSIsInRvT2JqZWN0IiwiYXJyIiwicmVzIiwiaSIsImxlbmd0aCIsIndpbmRvdyIsInJlc2l6ZUhhbmRsZXIiLCJlbnRyaWVzIiwiZW50cnkiLCJsaXN0ZW5lcnMiLCJ0YXJnZXQiLCJfX3Jlc2l6ZUxpc3RlbmVyc19fIiwiZm9yRWFjaCIsImZuIiwiYWRkUmVzaXplTGlzdGVuZXIiLCJfX3JvX18iLCJSZXNpemVPYnNlcnZlciIsIm9ic2VydmUiLCJwdXNoIiwicmVtb3ZlUmVzaXplTGlzdGVuZXIiLCJzcGxpY2UiLCJpbmRleE9mIiwiZGlzY29ubmVjdCIsInNjcm9sbEJhcldpZHRoIiwidW5kZWZpbmVkIiwib3V0ZXIiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwidmlzaWJpbGl0eSIsIndpZHRoIiwicG9zaXRpb24iLCJ0b3AiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJ3aWR0aE5vU2Nyb2xsIiwib2Zmc2V0V2lkdGgiLCJvdmVyZmxvdyIsImlubmVyIiwid2lkdGhXaXRoU2Nyb2xsIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwibmFtZSIsInByb3BzIiwiQm9vbGVhbiIsIlN0cmluZyIsIk51bWJlciIsImNvbXB1dGVkIiwidGhpcyIsIndyYXAiLCIkcGFyZW50IiwicmVuZGVyIiwiaCIsImNsaWNrVHJhY2tIYW5kbGVyIiwiY2xpY2tUaHVtYkhhbmRsZXIiLCJtZXRob2RzIiwiZSIsImN0cmxLZXkiLCJidXR0b24iLCJzdGFydERyYWciLCJjdXJyZW50VGFyZ2V0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidGh1bWJQb3NpdGlvblBlcmNlbnRhZ2UiLCJNYXRoIiwiYWJzIiwiJHJlZnMiLCJ0aHVtYiIsIiRlbCIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImN1cnNvckRvd24iLCJtb3VzZU1vdmVEb2N1bWVudEhhbmRsZXIiLCJtb3VzZVVwRG9jdW1lbnRIYW5kbGVyIiwib25zZWxlY3RzdGFydCIsInByZXZQYWdlIiwiZGVzdHJveWVkIiwiYXBpIiwiY29udGVudCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibW9kdWxlIiwib3B0aW9ucyIsImV4cG9ydHMiLCJsb2NhbHMiLCJTaW5vU2Nyb2xsYmFyIiwiaW5zdGFsbCIsImNvbXBvbmVudCIsInJlcXVpcmUiLCJjb21wb25lbnRzIiwiQmFyIiwibmF0aXZlIiwid3JhcFN0eWxlIiwid3JhcENsYXNzIiwidmlld0NsYXNzIiwidmlld1N0eWxlIiwic2hvd0hvcml6b250YWxCYXIiLCJ0eXBlIiwic2hvd1ZlcnRpY2FsQmFyIiwibm9yZXNpemUiLCJ0YWciLCJkYXRhIiwic2l6ZVdpZHRoIiwic2l6ZUhlaWdodCIsIm1vdmVYIiwibW92ZVkiLCJndXR0ZXIiLCJzY3JvbGxiYXJXaWR0aCIsImd1dHRlcldpdGgiLCJndXR0ZXJTdHlsZSIsIkFycmF5IiwiaXNBcnJheSIsIm1hcmdpblJpZ2h0IiwibWFyZ2luQm90dG9tIiwidmlldyIsImNsYXNzIiwicmVmIiwiJHNsb3RzIiwiaGFuZGxlU2Nyb2xsIiwibm9kZXMiLCJzY3JvbGxUb3AiLCJjbGllbnRIZWlnaHQiLCJzY3JvbGxMZWZ0IiwiY2xpZW50V2lkdGgiLCIkZW1pdCIsIm9mZnNldEhlaWdodCIsInNjcm9sbEhlaWdodCIsImNsZWFyVGltZW91dCIsInRpbWVyIiwic2V0VGltZW91dCIsInVwZGF0ZSIsImhlaWdodFBlcmNlbnRhZ2UiLCJ3aWR0aFBlcmNlbnRhZ2UiLCJzY3JvbGxXaWR0aCIsInJlc2V0VG9Ub3AiLCJzY3JvbGxUb1RvcCIsIm1vdW50ZWQiLCIkbmV4dFRpY2siLCJyZXNpemUiLCJiZWZvcmVEZXN0cm95IiwiX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIl0sIm1hcHBpbmdzIjoiZ0hBQUEsZ05BUUEsTUFBTUEsRUFSTixLQVFpQkMsUUFBSUMsVUFBVUMsVUFFbEJDLEVBQVUsQ0FDckJDLFNBQVUsQ0FDUkMsT0FBUSxlQUNSQyxPQUFRLFlBQ1JDLFdBQVksZUFDWkMsS0FBTSxTQUNOQyxJQUFLLFdBQ0xDLEtBQU0sSUFDTkMsT0FBUSxVQUNSQyxVQUFXLE9BRWJDLFdBQVksQ0FDVlIsT0FBUSxjQUNSQyxPQUFRLGFBQ1JDLFdBQVksY0FDWkMsS0FBTSxRQUNOQyxJ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QUFNLEtBRW5FRSxhQUNFcEYsS0FBS0MsS0FBS3FFLFVBQVksR0FFeEJlLFlBQVlyRyxHQUNWZ0IsS0FBS0MsS0FBS3FFLFVBQVl0RixJQUkxQnNHLFVBQ010RixLQUFLeUMsU0FDVHpDLEtBQUt1RixVQUFVdkYsS0FBS2dGLFNBQ25CaEYsS0FBS2lELFVBQVlsRiw0QkFBa0JpQyxLQUFLaUIsTUFBTXVFLE9BQVF4RixLQUFLZ0YsVUFHOURTLGdCQUNNekYsS0FBS3lDLFNBQ1J6QyxLQUFLaUQsVUFBWTdFLCtCQUFxQjRCLEtBQUtpQixNQUFNdUUsT0FBUXhGLEtBQUtnRixXLHFCQ2xLbkUvQyxFQURrQyxFQUFRLEVBQ2hDeUQsRUFBNEIsSUFFOUJ2SCxLQUFLLENBQUM0RCxFQUFPM0UsRUFBSSxpekJBQWt6QixLQUUzMEIyRSxFQUFPRSxRQUFVQSIsImZpbGUiOiJqcy80NS4zMDY3NTNjOTZjYzk3MzIzOGM2Yy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBAQXV0aG9yOiBhdGRvd1xuICogQERhdGU6IDIwMjMtMDItMTQgMTA6MTk6MjdcbiAqIEBMYXN0RWRpdG9yczogbnVsbFxuICogQExhc3RFZGl0VGltZTogMjAyMy0wMi0xNCAxMToxNjo0NlxuICogQERlc2NyaXB0aW9uOiBmaWxlIGRlc2NyaXB0aW9uXG4gKi9cbmltcG9ydCBWdWUgZnJvbSAndnVlJ1xuY29uc3QgaXNTZXJ2ZXIgPSBWdWUucHJvdG90eXBlLiRpc1NlcnZlclxuXG5leHBvcnQgY29uc3QgQkFSX01BUCA9IHtcbiAgdmVydGljYWw6IHtcbiAgICBvZmZzZXQ6ICdvZmZzZXRIZWlnaHQnLFxuICAgIHNjcm9sbDogJ3Njcm9sbFRvcCcsXG4gICAgc2Nyb2xsU2l6ZTogJ3Njcm9sbEhlaWdodCcsXG4gICAgc2l6ZTogJ2hlaWdodCcsXG4gICAga2V5OiAndmVydGljYWwnLFxuICAgIGF4aXM6ICdZJyxcbiAgICBjbGllbnQ6ICdjbGllbnRZJyxcbiAgICBkaXJlY3Rpb246ICd0b3AnXG4gIH0sXG4gIGhvcml6b250YWw6IHtcbiAgICBvZmZzZXQ6ICdvZmZzZXRXaWR0aCcsXG4gICAgc2Nyb2xsOiAnc2Nyb2xsTGVmdCcsXG4gICAgc2Nyb2xsU2l6ZTogJ3Njcm9sbFdpZHRoJyxcbiAgICBzaXplOiAnd2lkdGgnLFxuICAgIGtleTogJ2hvcml6b250YWwnLFxuICAgIGF4aXM6ICdYJyxcbiAgICBjbGllbnQ6ICdjbGllbnRYJyxcbiAgICBkaXJlY3Rpb246ICdsZWZ0J1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJUaHVtYlN0eWxlKHsgbW92ZSwgc2l6ZSwgYmFyIH0pIHtcbiAgY29uc3Qgc3R5bGUgPSB7fVxuICBjb25zdCB0cmFuc2xhdGUgPSBgdHJhbnNsYXRlJHtiYXIuYXhpc30oJHttb3ZlfSUpYFxuICAvLyBjb25zb2xlLmxvZygnc2l6ZTonLCBzaXplKVxuXG4gIHN0eWxlW2Jhci5zaXplXSA9IHNpemVcbiAgc3R5bGUudHJhbnNmb3JtID0gdHJhbnNsYXRlXG4gIHN0eWxlLm1zVHJhbnNmb3JtID0gdHJhbnNsYXRlXG4gIHN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHRyYW5zbGF0ZVxuXG4gIHJldHVybiBzdHlsZVxufTtcblxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IG9uID0gKGZ1bmN0aW9uICgpIHtcbiAgaWYgKCFpc1NlcnZlciAmJiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50LCBldmVudCwgaGFuZGxlcikge1xuICAgICAgaWYgKGVsZW1lbnQgJiYgZXZlbnQgJiYgaGFuZGxlcikge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIGZhbHNlKVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICBpZiAoZWxlbWVudCAmJiBldmVudCAmJiBoYW5kbGVyKSB7XG4gICAgICAgIGVsZW1lbnQuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBoYW5kbGVyKVxuICAgICAgfVxuICAgIH1cbiAgfVxufSkoKVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IG9mZiA9IChmdW5jdGlvbiAoKSB7XG4gIGlmICghaXNTZXJ2ZXIgJiYgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgIGlmIChlbGVtZW50ICYmIGV2ZW50KSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgZmFsc2UpXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgIGlmIChlbGVtZW50ICYmIGV2ZW50KSB7XG4gICAgICAgIGVsZW1lbnQuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBoYW5kbGVyKVxuICAgICAgfVxuICAgIH1cbiAgfVxufSkoKVxuXG5cbmZ1bmN0aW9uIGV4dGVuZCh0bywgX2Zyb20pIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gX2Zyb20pIHtcbiAgICB0b1trZXldID0gX2Zyb21ba2V5XVxuICB9XG4gIHJldHVybiB0b1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRvT2JqZWN0KGFycikge1xuICB2YXIgcmVzID0ge31cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYXJyW2ldKSB7XG4gICAgICBleHRlbmQocmVzLCBhcnJbaV0pXG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn07XG5cbiIsImltcG9ydCBSZXNpemVPYnNlcnZlciBmcm9tICdyZXNpemUtb2JzZXJ2ZXItcG9seWZpbGwnXG5cbmNvbnN0IGlzU2VydmVyID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCdcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmNvbnN0IHJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbiAoZW50cmllcykge1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBlbnRyeS50YXJnZXQuX19yZXNpemVMaXN0ZW5lcnNfXyB8fCBbXVxuICAgICAgICBpZiAobGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGlzdGVuZXJzLmZvckVhY2goZm4gPT4ge1xuICAgICAgICAgICAgICAgIGZuKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgYWRkUmVzaXplTGlzdGVuZXIgPSBmdW5jdGlvbiAoZWxlbWVudCwgZm4pIHtcbiAgICBpZiAoaXNTZXJ2ZXIpIHJldHVyblxuICAgIGlmICghZWxlbWVudC5fX3Jlc2l6ZUxpc3RlbmVyc19fKSB7XG4gICAgICAgIGVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXyA9IFtdXG4gICAgICAgIGVsZW1lbnQuX19yb19fID0gbmV3IFJlc2l6ZU9ic2VydmVyKHJlc2l6ZUhhbmRsZXIpXG4gICAgICAgIGVsZW1lbnQuX19yb19fLm9ic2VydmUoZWxlbWVudClcbiAgICB9XG4gICAgZWxlbWVudC5fX3Jlc2l6ZUxpc3RlbmVyc19fLnB1c2goZm4pXG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgcmVtb3ZlUmVzaXplTGlzdGVuZXIgPSBmdW5jdGlvbiAoZWxlbWVudCwgZm4pIHtcbiAgICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXykgcmV0dXJuXG4gICAgZWxlbWVudC5fX3Jlc2l6ZUxpc3RlbmVyc19fLnNwbGljZShlbGVtZW50Ll9fcmVzaXplTGlzdGVuZXJzX18uaW5kZXhPZihmbiksIDEpXG4gICAgaWYgKCFlbGVtZW50Ll9fcmVzaXplTGlzdGVuZXJzX18ubGVuZ3RoKSB7XG4gICAgICAgIGVsZW1lbnQuX19yb19fLmRpc2Nvbm5lY3QoKVxuICAgIH1cbn1cbiIsIi8qXG4gKiBAQXV0aG9yOiBhdGRvd1xuICogQERhdGU6IDIwMjMtMDItMTQgMTA6MjE6NTlcbiAqIEBMYXN0RWRpdG9yczogbnVsbFxuICogQExhc3RFZGl0VGltZTogMjAyMy0wMi0xNCAxNTozNjozMVxuICogQERlc2NyaXB0aW9uOiBmaWxlIGRlc2NyaXB0aW9uXG4gKi9cbmltcG9ydCBWdWUgZnJvbSAndnVlJ1xuXG5sZXQgc2Nyb2xsQmFyV2lkdGhcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICBpZiAoVnVlLnByb3RvdHlwZS4kaXNTZXJ2ZXIpIHJldHVybiAwXG4gIGlmIChzY3JvbGxCYXJXaWR0aCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gc2Nyb2xsQmFyV2lkdGhcblxuICBjb25zdCBvdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIG91dGVyLmNsYXNzTmFtZSA9ICdzaW5vLXNjcm9sbGJhcl9fd3JhcCdcbiAgb3V0ZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXG4gIG91dGVyLnN0eWxlLndpZHRoID0gJzEwMHB4J1xuICBvdXRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSdcbiAgb3V0ZXIuc3R5bGUudG9wID0gJy05OTk5cHgnXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0ZXIpXG5cbiAgY29uc3Qgd2lkdGhOb1Njcm9sbCA9IG91dGVyLm9mZnNldFdpZHRoXG4gIG91dGVyLnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCdcblxuICBjb25zdCBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGlubmVyLnN0eWxlLndpZHRoID0gJzEwMCUnXG4gIG91dGVyLmFwcGVuZENoaWxkKGlubmVyKVxuXG4gIGNvbnN0IHdpZHRoV2l0aFNjcm9sbCA9IGlubmVyLm9mZnNldFdpZHRoXG4gIG91dGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob3V0ZXIpXG4gIHNjcm9sbEJhcldpZHRoID0gd2lkdGhOb1Njcm9sbCAtIHdpZHRoV2l0aFNjcm9sbFxuXG4gIHJldHVybiBzY3JvbGxCYXJXaWR0aFxufTtcbiIsIi8qXG4gKiBAQXV0aG9yOiBhdGRvd1xuICogQERhdGU6IDIwMjMtMDItMjAgMjE6Mjk6MDBcbiAqIEBMYXN0RWRpdG9yczogbnVsbFxuICogQExhc3RFZGl0VGltZTogMjAyMy0wMi0yMCAyMToyOTowMVxuICogQERlc2NyaXB0aW9uOiBmaWxlIGRlc2NyaXB0aW9uXG4gKi9cbmltcG9ydCB7IG9uLCBvZmYgfSBmcm9tICcuL3V0aWwnXG5pbXBvcnQgeyByZW5kZXJUaHVtYlN0eWxlLCBCQVJfTUFQIH0gZnJvbSAnLi91dGlsJ1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnQmFyJyxcblxuICBwcm9wczoge1xuICAgIHZlcnRpY2FsOiBCb29sZWFuLFxuICAgIHNpemU6IFN0cmluZyxcbiAgICBtb3ZlOiBOdW1iZXJcbiAgfSxcblxuICBjb21wdXRlZDoge1xuICAgIGJhcigpIHtcbiAgICAgIHJldHVybiBCQVJfTUFQW3RoaXMudmVydGljYWwgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnXVxuICAgIH0sXG5cbiAgICB3cmFwKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJHBhcmVudC53cmFwXG4gICAgfVxuICB9LFxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICByZW5kZXIoaCkge1xuICAgIGNvbnN0IHsgc2l6ZSwgbW92ZSwgYmFyIH0gPSB0aGlzXG4gICAgLy8gY29uc29sZS5sb2coJ2JhcjonLCBiYXIpXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9e1snc2luby1zY3JvbGxiYXJfX2JhcicsICdpcy0nICsgYmFyLmtleV19XG4gICAgICAgIG9uTW91c2Vkb3duPXt0aGlzLmNsaWNrVHJhY2tIYW5kbGVyfSA+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICByZWY9XCJ0aHVtYlwiXG4gICAgICAgICAgY2xhc3M9XCJzaW5vLXNjcm9sbGJhcl9fdGh1bWJcIlxuICAgICAgICAgIG9uTW91c2Vkb3duPXt0aGlzLmNsaWNrVGh1bWJIYW5kbGVyfVxuICAgICAgICAgIHN0eWxlPXtyZW5kZXJUaHVtYlN0eWxlKHsgc2l6ZSwgbW92ZSwgYmFyIH0pfT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG5cbiAgbWV0aG9kczoge1xuICAgIGNsaWNrVGh1bWJIYW5kbGVyKGUpIHtcbiAgICAgIC8vIHByZXZlbnQgY2xpY2sgZXZlbnQgb2YgcmlnaHQgYnV0dG9uXG4gICAgICBpZiAoZS5jdHJsS2V5IHx8IGUuYnV0dG9uID09PSAyKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgdGhpcy5zdGFydERyYWcoZSlcbiAgICAgIHRoaXNbdGhpcy5iYXIuYXhpc10gPSAoZS5jdXJyZW50VGFyZ2V0W3RoaXMuYmFyLm9mZnNldF0gLSAoZVt0aGlzLmJhci5jbGllbnRdIC0gZS5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3RoaXMuYmFyLmRpcmVjdGlvbl0pKVxuICAgIH0sXG5cbiAgICBjbGlja1RyYWNrSGFuZGxlcihlKSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSBNYXRoLmFicyhlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVt0aGlzLmJhci5kaXJlY3Rpb25dIC0gZVt0aGlzLmJhci5jbGllbnRdKVxuICAgICAgY29uc3QgdGh1bWJIYWxmID0gKHRoaXMuJHJlZnMudGh1bWJbdGhpcy5iYXIub2Zmc2V0XSAvIDIpXG4gICAgICBjb25zdCB0aHVtYlBvc2l0aW9uUGVyY2VudGFnZSA9ICgob2Zmc2V0IC0gdGh1bWJIYWxmKSAqIDEwMCAvIHRoaXMuJGVsW3RoaXMuYmFyLm9mZnNldF0pXG5cbiAgICAgIHRoaXMud3JhcFt0aGlzLmJhci5zY3JvbGxdID0gKHRodW1iUG9zaXRpb25QZXJjZW50YWdlICogdGhpcy53cmFwW3RoaXMuYmFyLnNjcm9sbFNpemVdIC8gMTAwKVxuICAgIH0sXG5cbiAgICBzdGFydERyYWcoZSkge1xuICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuICAgICAgdGhpcy5jdXJzb3JEb3duID0gdHJ1ZVxuXG4gICAgICBvbihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMubW91c2VNb3ZlRG9jdW1lbnRIYW5kbGVyKVxuICAgICAgb24oZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5tb3VzZVVwRG9jdW1lbnRIYW5kbGVyKVxuICAgICAgZG9jdW1lbnQub25zZWxlY3RzdGFydCA9ICgpID0+IGZhbHNlXG4gICAgfSxcblxuICAgIG1vdXNlTW92ZURvY3VtZW50SGFuZGxlcihlKSB7XG4gICAgICBpZiAodGhpcy5jdXJzb3JEb3duID09PSBmYWxzZSkgcmV0dXJuXG4gICAgICBjb25zdCBwcmV2UGFnZSA9IHRoaXNbdGhpcy5iYXIuYXhpc11cblxuICAgICAgaWYgKCFwcmV2UGFnZSkgcmV0dXJuXG5cbiAgICAgIGNvbnN0IG9mZnNldCA9ICgodGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbdGhpcy5iYXIuZGlyZWN0aW9uXSAtIGVbdGhpcy5iYXIuY2xpZW50XSkgKiAtMSlcbiAgICAgIGNvbnN0IHRodW1iQ2xpY2tQb3NpdGlvbiA9ICh0aGlzLiRyZWZzLnRodW1iW3RoaXMuYmFyLm9mZnNldF0gLSBwcmV2UGFnZSlcbiAgICAgIGNvbnN0IHRodW1iUG9zaXRpb25QZXJjZW50YWdlID0gKChvZmZzZXQgLSB0aHVtYkNsaWNrUG9zaXRpb24pICogMTAwIC8gdGhpcy4kZWxbdGhpcy5iYXIub2Zmc2V0XSlcbiAgICAgIC8vIGNvbnNvbGUubG9nKCd0aHVtYkNsaWNrUG9zaXRpb246JywgICh0aHVtYlBvc2l0aW9uUGVyY2VudGFnZSAqIHRoaXMud3JhcFt0aGlzLmJhci5zY3JvbGxTaXplXSAvIDEwMCkpXG4gICAgICAvLyBjb25zb2xlLmxvZygndGhpcy4kcGFyZW50LndyYXA6JywgdGhpcy4kcGFyZW50LndyYXAsIHRoaXMuYmFyKVxuICAgICAgdGhpcy53cmFwW3RoaXMuYmFyLnNjcm9sbF0gPSAodGh1bWJQb3NpdGlvblBlcmNlbnRhZ2UgKiB0aGlzLndyYXBbdGhpcy5iYXIuc2Nyb2xsU2l6ZV0gLyAxMDApXG4gICAgfSxcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIG1vdXNlVXBEb2N1bWVudEhhbmRsZXIoZSkge1xuICAgICAgdGhpcy5jdXJzb3JEb3duID0gZmFsc2VcbiAgICAgIHRoaXNbdGhpcy5iYXIuYXhpc10gPSAwXG4gICAgICBvZmYoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlTW92ZURvY3VtZW50SGFuZGxlcilcbiAgICAgIGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQgPSBudWxsXG4gICAgfVxuICB9LFxuXG4gIGRlc3Ryb3llZCgpIHtcbiAgICBvZmYoZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5tb3VzZVVwRG9jdW1lbnRIYW5kbGVyKVxuICB9XG59XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGVzLmxlc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIi8qXG4gKiBAQXV0aG9yOiBhdGRvd1xuICogQERhdGU6IDIwMjMtMDItMjAgMjE6Mjg6MzRcbiAqIEBMYXN0RWRpdG9yczogbnVsbFxuICogQExhc3RFZGl0VGltZTogMjAyMy0wMi0yMCAyMToyODozN1xuICogQERlc2NyaXB0aW9uOiBmaWxlIGRlc2NyaXB0aW9uXG4gKi9cbmltcG9ydCBTaW5vU2Nyb2xsYmFyIGZyb20gJy4vc3JjL3Njcm9sbGJhcidcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblNpbm9TY3JvbGxiYXIuaW5zdGFsbCA9IGZ1bmN0aW9uIChWdWUpIHtcbiAgVnVlLmNvbXBvbmVudChTaW5vU2Nyb2xsYmFyLm5hbWUsIFNpbm9TY3JvbGxiYXIpXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNpbm9TY3JvbGxiYXIiLCJpbXBvcnQgeyBhZGRSZXNpemVMaXN0ZW5lciwgcmVtb3ZlUmVzaXplTGlzdGVuZXIgfSBmcm9tICdAL3V0aWxzL3Jlc2l6ZS1ldmVudCdcbmltcG9ydCBzY3JvbGxiYXJXaWR0aCBmcm9tICcuL3Njcm9sbGJhci13aWR0aCdcbmltcG9ydCB7IHRvT2JqZWN0IH0gZnJvbSAnLi91dGlsJ1xuaW1wb3J0IEJhciBmcm9tICcuL2JhcidcbnJlcXVpcmUoJy4vc3R5bGVzLmxlc3MnKVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnU2lub1Njcm9sbGJhcicsXG5cbiAgY29tcG9uZW50czogeyBCYXIgfSxcblxuICBwcm9wczoge1xuICAgIG5hdGl2ZTogQm9vbGVhbiwgLy8g5piv5ZCm5L2/55So5rua5Yqo5p2hXG4gICAgd3JhcFN0eWxlOiB7fSxcbiAgICB3cmFwQ2xhc3M6IHt9LFxuICAgIHZpZXdDbGFzczoge30sXG4gICAgdmlld1N0eWxlOiB7fSxcbiAgICBzaG93SG9yaXpvbnRhbEJhcjoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgfSxcbiAgICBzaG93VmVydGljYWxCYXI6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlLFxuICAgIH0sXG4gICAgbm9yZXNpemU6IEJvb2xlYW4sIC8vIOWmguaenCBjb250YWluZXIg5bC65a+45LiN5Lya5Y+R55Sf5Y+Y5YyW77yM5pyA5aW96K6+572u5a6D5Y+v5Lul5LyY5YyW5oCn6IO9XG4gICAgdGFnOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnZGl2JyxcbiAgICB9LFxuICB9LFxuXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNpemVXaWR0aDogJzAnLFxuICAgICAgc2l6ZUhlaWdodDogJzAnLFxuICAgICAgbW92ZVg6IDAsXG4gICAgICBtb3ZlWTogMCxcbiAgICB9XG4gIH0sXG5cbiAgY29tcHV0ZWQ6IHtcbiAgICB3cmFwKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJHJlZnMud3JhcFxuICAgIH0sXG4gIH0sXG5cbiAgcmVuZGVyKGgpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnbmF0aXZlOicsIHRoaXMubmF0aXZlKVxuICAgIGNvbnN0IGd1dHRlciA9IHNjcm9sbGJhcldpZHRoKCkgLy8g5Y6f55Sf5rua5Yqo5p2h55qE5a695bqmXG4gICAgbGV0IHN0eWxlID0gdGhpcy53cmFwU3R5bGVcblxuICAgIC8vIG1hY+eahOaYr+ayoeaciWd1dHRlcueahFxuICAgIGlmIChndXR0ZXIpIHtcbiAgICAgIGNvbnN0IGd1dHRlcldpdGggPSBgLSR7Z3V0dGVyfXB4YFxuICAgICAgY29uc3QgZ3V0dGVyU3R5bGUgPSBgbWFyZ2luLWJvdHRvbTogJHtndXR0ZXJXaXRofTsgbWFyZ2luLXJpZ2h0OiAke2d1dHRlcldpdGh9O2BcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy53cmFwU3R5bGUpKSB7XG4gICAgICAgIHN0eWxlID0gdG9PYmplY3QodGhpcy53cmFwU3R5bGUpXG4gICAgICAgIHN0eWxlLm1hcmdpblJpZ2h0ID0gc3R5bGUubWFyZ2luQm90dG9tID0gZ3V0dGVyV2l0aFxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy53cmFwU3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHN0eWxlICs9IGd1dHRlclN0eWxlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZSA9IGd1dHRlclN0eWxlXG4gICAgICB9XG4gICAgICAvLyDmiYvliqjliqDkuIrlrr3pq5jvvIzkuI3nhLblrrnmmJPlr7zoh7Tlrrnlmajlrr3pq5jkuI3lr7lcbiAgICAgIHN0eWxlICs9IGB3aWR0aDogY2FsYygxMDAlICsgJHtndXR0ZXJ9cHgpO2hlaWdodDogY2FsYygxMDAlICsgJHtndXR0ZXJ9cHgpO2BcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUgKz0gYHdpZHRoOiAxMDAlO2hlaWdodDogMTAwJTtgXG4gICAgfVxuICAgIGNvbnN0IHZpZXcgPSBoKFxuICAgICAgdGhpcy50YWcsXG4gICAgICB7XG4gICAgICAgIGNsYXNzOiBbJ3Npbm8tc2Nyb2xsYmFyX192aWV3JywgdGhpcy52aWV3Q2xhc3NdLFxuICAgICAgICBzdHlsZTogdGhpcy52aWV3U3R5bGUsXG4gICAgICAgIHJlZjogJ3Jlc2l6ZScsXG4gICAgICB9LFxuICAgICAgdGhpcy4kc2xvdHMuZGVmYXVsdFxuICAgIClcbiAgICBjb25zdCB3cmFwID0gKFxuICAgICAgPGRpdlxuICAgICAgICByZWY9XCJ3cmFwXCJcbiAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICBvblNjcm9sbD17dGhpcy5oYW5kbGVTY3JvbGx9XG4gICAgICAgIGNsYXNzPXtbdGhpcy53cmFwQ2xhc3MsICdzaW5vLXNjcm9sbGJhcl9fd3JhcCcsIGd1dHRlciA/ICcnIDogJ3Npbm8tc2Nyb2xsYmFyX193cmFwLS1oaWRkZW4tZGVmYXVsdCddfVxuICAgICAgPlxuICAgICAgICB7W3ZpZXddfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICAgIGxldCBub2Rlc1xuXG4gICAgaWYgKCF0aGlzLm5hdGl2ZSkge1xuICAgICAgbm9kZXMgPSBbd3JhcF1cbiAgICAgIGlmICh0aGlzLnNob3dIb3Jpem9udGFsQmFyKSB7XG4gICAgICAgIG5vZGVzLnB1c2goPEJhciBtb3ZlPXt0aGlzLm1vdmVYfSBzaXplPXt0aGlzLnNpemVXaWR0aH0+PC9CYXI+KVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2hvd1ZlcnRpY2FsQmFyKSB7XG4gICAgICAgIG5vZGVzLnB1c2goPEJhciB2ZXJ0aWNhbCBtb3ZlPXt0aGlzLm1vdmVZfSBzaXplPXt0aGlzLnNpemVIZWlnaHR9PjwvQmFyPilcbiAgICAgIH1cbiAgICAgIC8vIG5vZGVzID0gKFtcbiAgICAgIC8vICAgd3JhcCxcbiAgICAgIC8vICAgPEJhclxuICAgICAgLy8gICAgIG1vdmU9e3RoaXMubW92ZVh9XG4gICAgICAvLyAgICAgc2l6ZT17dGhpcy5zaXplV2lkdGh9PjwvQmFyPixcbiAgICAgIC8vICAgPEJhclxuICAgICAgLy8gICAgIHZlcnRpY2FsXG4gICAgICAvLyAgICAgbW92ZT17dGhpcy5tb3ZlWX1cbiAgICAgIC8vICAgICBzaXplPXt0aGlzLnNpemVIZWlnaHR9PjwvQmFyPlxuICAgICAgLy8gXSlcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZXMgPSBbXG4gICAgICAgIDxkaXYgcmVmPVwid3JhcFwiIGNsYXNzPXtbdGhpcy53cmFwQ2xhc3MsICdzaW5vLXNjcm9sbGJhcl9fd3JhcCddfSBzdHlsZT17c3R5bGV9PlxuICAgICAgICAgIHtbdmlld119XG4gICAgICAgIDwvZGl2PixcbiAgICAgIF1cbiAgICB9XG4gICAgcmV0dXJuIGgoJ2RpdicsIHsgY2xhc3M6ICdzaW5vLXNjcm9sbGJhcicgfSwgbm9kZXMpXG4gIH0sXG5cbiAgbWV0aG9kczoge1xuICAgIGhhbmRsZVNjcm9sbChlKSB7XG4gICAgICBjb25zdCB3cmFwID0gdGhpcy53cmFwXG5cbiAgICAgIHRoaXMubW92ZVkgPSAod3JhcC5zY3JvbGxUb3AgKiAxMDApIC8gd3JhcC5jbGllbnRIZWlnaHRcbiAgICAgIHRoaXMubW92ZVggPSAod3JhcC5zY3JvbGxMZWZ0ICogMTAwKSAvIHdyYXAuY2xpZW50V2lkdGhcbiAgICAgIHRoaXMuJGVtaXQoJ3Njcm9sbCcsIHsgc2Nyb2xsVG9wOiBlLnRhcmdldC5zY3JvbGxUb3AsIHNjcm9sbExlZnQ6IGUudGFyZ2V0LnNjcm9sbExlZnQsIGUgfSlcbiAgICAgIGlmIChlLnRhcmdldC5zY3JvbGxUb3AgKyBlLnRhcmdldC5vZmZzZXRIZWlnaHQgPj0gZS50YXJnZXQuc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICAgIC8vIOmYsuaKllxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcilcbiAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuJGVtaXQoJ3Njcm9sbEJvdHRvbScpXG4gICAgICAgIH0sIDEwMClcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgbGV0IGhlaWdodFBlcmNlbnRhZ2UgPSAnJ1xuICAgICAgbGV0IHdpZHRoUGVyY2VudGFnZSA9ICcnXG4gICAgICBjb25zdCB3cmFwID0gdGhpcy53cmFwXG4gICAgICBpZiAoIXdyYXApIHJldHVyblxuXG4gICAgICBoZWlnaHRQZXJjZW50YWdlID0gKHdyYXAuY2xpZW50SGVpZ2h0ICogMTAwKSAvIHdyYXAuc2Nyb2xsSGVpZ2h0XG4gICAgICB3aWR0aFBlcmNlbnRhZ2UgPSAod3JhcC5jbGllbnRXaWR0aCAqIDEwMCkgLyB3cmFwLnNjcm9sbFdpZHRoXG5cbiAgICAgIHRoaXMuc2l6ZUhlaWdodCA9IGhlaWdodFBlcmNlbnRhZ2UgPCAxMDAgPyBoZWlnaHRQZXJjZW50YWdlICsgJyUnIDogJydcbiAgICAgIHRoaXMuc2l6ZVdpZHRoID0gd2lkdGhQZXJjZW50YWdlIDwgMTAwID8gd2lkdGhQZXJjZW50YWdlICsgJyUnIDogJydcbiAgICB9LFxuICAgIHJlc2V0VG9Ub3AoKSB7XG4gICAgICB0aGlzLndyYXAuc2Nyb2xsVG9wID0gMFxuICAgIH0sXG4gICAgc2Nyb2xsVG9Ub3AodG9wKSB7XG4gICAgICB0aGlzLndyYXAuc2Nyb2xsVG9wID0gdG9wXG4gICAgfSxcbiAgfSxcblxuICBtb3VudGVkKCkge1xuICAgIGlmICh0aGlzLm5hdGl2ZSkgcmV0dXJuXG4gICAgdGhpcy4kbmV4dFRpY2sodGhpcy51cGRhdGUpXG4gICAgIXRoaXMubm9yZXNpemUgJiYgYWRkUmVzaXplTGlzdGVuZXIodGhpcy4kcmVmcy5yZXNpemUsIHRoaXMudXBkYXRlKVxuICB9LFxuXG4gIGJlZm9yZURlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMubmF0aXZlKSByZXR1cm5cbiAgICAhdGhpcy5ub3Jlc2l6ZSAmJiByZW1vdmVSZXNpemVMaXN0ZW5lcih0aGlzLiRyZWZzLnJlc2l6ZSwgdGhpcy51cGRhdGUpXG4gIH0sXG59XG4iLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnNpbm8tc2Nyb2xsYmFyX193cmFwIHtcXG4gIG92ZXJmbG93OiBzY3JvbGw7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuLnNpbm8tc2Nyb2xsYmFyIHtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbi5zaW5vLXNjcm9sbGJhcl9fYmFyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiAycHg7XFxuICBib3R0b206IDJweDtcXG4gIHotaW5kZXg6IDE7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICBvcGFjaXR5OiAxO1xcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjEycyBlYXNlLW91dDtcXG59XFxuLnNpbm8tc2Nyb2xsYmFyX19iYXIuaXMtaG9yaXpvbnRhbCB7XFxuICBoZWlnaHQ6IDZweDtcXG4gIGxlZnQ6IDJweDtcXG59XFxuLnNpbm8tc2Nyb2xsYmFyX19iYXIuaXMtaG9yaXpvbnRhbCA+IGRpdiB7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcbi5zaW5vLXNjcm9sbGJhcl9fYmFyLmlzLXZlcnRpY2FsIHtcXG4gIHdpZHRoOiA2cHg7XFxuICB0b3A6IDJweDtcXG59XFxuLnNpbm8tc2Nyb2xsYmFyX19iYXIuaXMtdmVydGljYWwgPiBkaXYge1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcbi5zaW5vLXNjcm9sbGJhcl9fdGh1bWIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGJvcmRlci1yYWRpdXM6IGluaGVyaXQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE4MCwgMTg1LCAyMTAsIDAuNCk7XFxuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3M7XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iXSwic291cmNlUm9vdCI6IiJ9